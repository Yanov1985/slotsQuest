# โ ะญะขะะ 4: Frontend ะธะฝัะตะณัะฐัะธั JSON-LD - ะะะะะะจะะ!

## ๐ฏ ะะตะทัะปััะฐัั

**ะะฐัะฐ ะทะฐะฒะตััะตะฝะธั:** 1 ะดะตะบะฐะฑัั 2025
**ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั:** ~30 ะผะธะฝัั
**ะกัะฐััั:** โ **ะะกะ ะะะะะะะะะขะซ ะะะขะะะะะะะะะะซ**

---

## ๐ ะงัะพ ัะพะทะดะฐะฝะพ

### 1. Composable `useJsonLd.ts`

**ะััั:** `frontend/composables/useJsonLd.ts`

| ะคัะฝะบัะธั | ะะฟะธัะฐะฝะธะต |
|---------|----------|
| `fetchJsonLd(slotId)` | ะะพะปััะธัั JSON-LD ั ัะตัะฒะตัะฐ |
| `fetchRawJsonLd(slotId)` | ะะพะปััะธัั "ัััะพะน" ะผะฐััะธะฒ ััะตะผ |
| `generateGameSchema(slot)` | ะะตะฝะตัะฐัะธั Game Schema ะฝะฐ ะบะปะธะตะฝัะต |
| `generateReviewSchema(slot)` | ะะตะฝะตัะฐัะธั Review Schema |
| `generateFaqSchema(slot)` | ะะตะฝะตัะฐัะธั FAQ Schema |
| `generateHowToSchema(slot)` | ะะตะฝะตัะฐัะธั HowTo Schema |
| `generateBreadcrumbSchema(slot)` | ะะตะฝะตัะฐัะธั BreadcrumbList Schema |
| `generateVideoSchema(slot)` | ะะตะฝะตัะฐัะธั VideoObject Schema |
| `generateAllSchemas(slot)` | ะะตะฝะตัะฐัะธั ะฒัะตั ััะตะผ ัะฐะทะพะผ |
| `getJsonLdScript(slot)` | Async ะผะตัะพะด ะดะปั useHead |
| `getJsonLdScriptSync(slot)` | Sync ะผะตัะพะด ะดะปั SSR |

### 2. ะะฝัะตะณัะฐัะธั ะฒ `[slug].vue`

**ะะทะผะตะฝะตะฝะธั:**

1. **ะะผะฟะพัั composable:**
```javascript
const { getJsonLdScriptSync, fetchRawJsonLd } = useJsonLd()
```

2. **ะะพะฑะฐะฒะปะตะฝะพ ัะพััะพัะฝะธะต:**
```javascript
const jsonLdSchemas = ref(null)
```

3. **ะะพะณะธะบะฐ ะฒ watchEffect:**
```javascript
// ะัะพะฒะตััะตะผ, ะตััั ะปะธ JSON-LD ะฝะฐัััะพะนะบะธ ะฒ ัะปะพัะต ะธะท ะะ
if (slot.value.jsonld_enabled !== false && slot.value.id) {
  // ะัะฟะพะปัะทัะตะผ ัะธะฝััะพะฝะฝัั ะณะตะฝะตัะฐัะธั ะดะปั SSR
  const jsonLdScript = getJsonLdScriptSync(slot.value, 'https://slotquest.com')
  if (jsonLdScript) {
    structuredData = jsonLdScript.innerHTML
  }
}
// Fallback ะฝะฐ ะปะพะบะฐะปัะฝัั ััะฝะบัะธั
if (!structuredData) {
  structuredData = getStructuredData(slot.value)
}
```

4. **ะัะธะฝััะพะฝะฝะฐั ะทะฐะณััะทะบะฐ ะฒ loadSlot:**
```javascript
if (slot.value.id) {
  fetchRawJsonLd(slot.value.id)
    .then((schemas) => {
      if (schemas && schemas.length > 0) {
        jsonLdSchemas.value = schemas
      }
    })
}
```

---

## ๐๏ธ ะััะธัะตะบัััะฐ ะธะฝัะตะณัะฐัะธะธ

```
ะะปะธะตะฝััะบะฐั ัััะฐะฝะธัะฐ ัะปะพัะฐ
        โ
   useJsonLd()
        โ
   โโโโโโโโโโโโโโโโโโโโโโ
   โ SSR: Sync ะผะตัะพะด    โ
   โ getJsonLdScriptSync โ
   โโโโโโโโโโโโโโโโโโโโโโ
        โ
   โโโโโโโโโโโโโโโโโโโโโโ
   โ Client: Async      โ
   โ fetchRawJsonLd     โ
   โ (ะทะฐะณััะทะบะฐ ั API)   โ
   โโโโโโโโโโโโโโโโโโโโโโ
        โ
   โโโโโโโโโโโโโโโโโโโโโโ
   โ Fallback: Local    โ
   โ getStructuredData  โ
   โ (ัััะตััะฒัััะฐั)     โ
   โโโโโโโโโโโโโโโโโโโโโโ
        โ
   useHead({ script: [...] })
```

---

## ๐ ะัะธะพัะธัะตั ะณะตะฝะตัะฐัะธะธ JSON-LD

1. **ะะท ะฝะฐัััะพะตะบ ัะปะพัะฐ (ะะ)** - ะตัะปะธ `jsonld_enabled === true`
   - ะัะฟะพะปัะทััััั ะฟะพะปั ะธะท ะฐะดะผะธะฝะบะธ: FAQ, HowTo, Video ะธ ั.ะด.
   - ะะฐะบัะธะผะฐะปัะฝัะน ะบะพะฝััะพะปั ัะตัะตะท ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั

2. **ะก Backend API** - ะฐัะธะฝััะพะฝะฝะฐั ะทะฐะณััะทะบะฐ
   - ะญะฝะดะฟะพะธะฝั: `GET /api/jsonld/:slotId/raw`
   - ะะพะทะฒัะฐัะฐะตั ะณะพัะพะฒัะน ะผะฐััะธะฒ ััะตะผ

3. **ะะพะบะฐะปัะฝะฐั ะณะตะฝะตัะฐัะธั (Fallback)** - ัััะตััะฒัััะฐั ััะฝะบัะธั
   - `getStructuredData(slot)`
   - ะะฐะฑะพัะฐะตั ะบะพะณะดะฐ ะะ ะฝะต ะฝะฐัััะพะตะฝะฐ
   - ะะพะปะฝะฐั ะพะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั

---

## ๐ฆ ะกัะตะผั JSON-LD

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะธะฟั:

| ะกัะตะผะฐ | ะะฟะธัะฐะฝะธะต | SSR | Async |
|-------|----------|-----|-------|
| ๐ฎ Game | ะัะฝะพะฒะฝะฐั ััะตะผะฐ ะธะณัั | โ | โ |
| โญ Review | ะญะบัะฟะตััะฝัะน ะพะฑะทะพั | โ | โ |
| โ FAQPage | ะะพะฟัะพัั-ะพัะฒะตัั | โ | โ |
| ๐ HowTo | ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั | โ | โ |
| ๐ BreadcrumbList | ะฅะปะตะฑะฝัะต ะบัะพัะบะธ | โ | โ |
| ๐ฌ VideoObject | ะะธะดะตะพ-ะพะฑะทะพั | โ | โ |

---

## ๐งช ะะฐะบ ะฟัะพะฒะตัะธัั

### 1. ะัะบัััั ัััะฐะฝะธัั ัะปะพัะฐ

```
http://localhost:3000/slots/gonzos-quest
```

### 2. ะะพัะผะพััะตัั ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ

ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:
```
โ JSON-LD ัะณะตะฝะตัะธัะพะฒะฐะฝ ะธะท ะฝะฐัััะพะตะบ ัะปะพัะฐ
โ JSON-LD ะทะฐะณััะถะตะฝ ั ัะตัะฒะตัะฐ: 5 ััะตะผ
```

ะธะปะธ (ะตัะปะธ ะฝะต ะฝะฐัััะพะตะฝ ะฒ ะะ):
```
๐ JSON-LD ัะณะตะฝะตัะธัะพะฒะฐะฝ ะปะพะบะฐะปัะฝะพ (fallback)
```

### 3. ะัะพะฒะตัะธัั ะธััะพะดะฝัะน ะบะพะด ัััะฐะฝะธัั

`Ctrl+U` ะธะปะธ View Page Source:
```html
<script type="application/ld+json">
[
  {"@context":"https://schema.org","@type":"Game",...},
  {"@context":"https://schema.org","@type":"Review",...},
  {"@context":"https://schema.org","@type":"FAQPage",...}
]
</script>
```

### 4. ะัะพัะตััะธัะพะฒะฐัั ะฒ Google

```
https://search.google.com/test/rich-results?url=https://slotquest.com/slots/gonzos-quest
```

---

## โ SSR ะฟะพะดะดะตัะถะบะฐ

JSON-LD ะณะตะฝะตัะธััะตััั ะฝะฐ ัะตัะฒะตัะต ะฟัะธ ะฟะตัะฒะพะผ ัะตะฝะดะตัะธะฝะณะต:

1. **Nuxt SSR** ะฒัะทัะฒะฐะตั `getJsonLdScriptSync()` ะฒ watchEffect
2. JSON-LD ะดะพะฑะฐะฒะปัะตััั ะฒ `<head>` ัะตัะตะท useHead
3. Google-ะฑะพั ะฟะพะปััะฐะตั ะฟะพะปะฝะพัััั ะณะพัะพะฒัะน HTML ั JSON-LD
4. ะะพัะปะต ะณะธะดัะฐัะฐัะธะธ - ะฐัะธะฝััะพะฝะฝะพ ะฟะพะดะณััะถะฐะตััั ั API

---

## ๐ฏ ะัะตะธะผััะตััะฒะฐ ะธะฝัะตะณัะฐัะธะธ

| ะัะฟะตะบั | ะะพ | ะะพัะปะต |
|--------|-----|-------|
| **ะฃะฟัะฐะฒะปะตะฝะธะต** | ะขะพะปัะบะพ ะบะพะด | ะะดะผะธะฝ-ะฟะฐะฝะตะปั |
| **ะะธะฑะบะพััั** | ะกัะฐัะธัะฝะพ | ะะธะฝะฐะผะธัะฝะพ |
| **SSR** | โ | โ |
| **Fallback** | โ | โ |
| **ะะฐะปะธะดะฐัะธั** | โ | โ (ัะตัะตะท API) |
| **ะขะตััะธัะพะฒะฐะฝะธะต** | ะัััะฝัั | ะะฝะพะฟะบะฐ "ะขะตัั Google" |
| **FAQ ัะตะดะฐะบัะพั** | โ | โ |
| **HowTo ัะตะดะฐะบัะพั** | โ | โ |

---

## ๐ ะัะพะณะธ ะฟัะพะตะบัะฐ JSON-LD

### โ ะะฐะฒะตัััะฝะฝัะต ััะฐะฟั:

| ะญัะฐะฟ | ะะฟะธัะฐะฝะธะต | ะัะตะผั |
|------|----------|-------|
| **1** | ะะฐะทะฐ ะดะฐะฝะฝัั (37 ะฟะพะปะตะน) | ~30 ะผะธะฝ |
| **2** | Backend API (14 ัะฝะดะฟะพะธะฝัะพะฒ) | ~30 ะผะธะฝ |
| **3** | ะะดะผะธะฝ-ะฟะฐะฝะตะปั UI | ~45 ะผะธะฝ |
| **4** | Frontend ะธะฝัะตะณัะฐัะธั | ~30 ะผะธะฝ |

**ะะฑัะตะต ะฒัะตะผั: ~2.5 ัะฐัะฐ**

### ๐ ะคัะฝะบัะธะพะฝะฐะป ะณะพัะพะฒ:

- โ 37 ะฟะพะปะตะน JSON-LD ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั
- โ 14 API ัะฝะดะฟะพะธะฝัะพะฒ ะดะปั ัะฟัะฐะฒะปะตะฝะธั
- โ ะะพะผะฟะพะฝะตะฝั JsonLdEditor ะฒ ะฐะดะผะธะฝะบะต
- โ ะะตะดะฐะบัะพั FAQ ะธ HowTo
- โ ะัะตะฒัั JSON-LD
- โ ะะฝะพะฟะบะฐ "ะขะตัั ะฒ Google"
- โ Composable useJsonLd()
- โ SSR ะฟะพะดะดะตัะถะบะฐ
- โ Fallback ะฝะฐ ะปะพะบะฐะปัะฝัั ะณะตะฝะตัะฐัะธั
- โ ะัะธะฝััะพะฝะฝะฐั ะทะฐะณััะทะบะฐ ั API

---

## ๐ ะะขะะ

**ะญะขะะ 4: Frontend ะธะฝัะตะณัะฐัะธั โ ะฃะกะะะจะะ ะะะะะะจะะ!**

ะัะพะตะบั JSON-LD ะฟะพะปะฝะพัััั ะณะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั:

1. โ ะะดะผะธะฝ ะผะพะถะตั ะฝะฐัััะฐะธะฒะฐัั JSON-LD ัะตัะตะท ัะดะพะฑะฝัะน UI
2. โ ะะฐะฝะฝัะต ัะพััะฐะฝััััั ะฒ ะะ
3. โ Frontend ะฐะฒัะพะผะฐัะธัะตัะบะธ ะณะตะฝะตัะธััะตั ััะตะผั
4. โ SSR ัะฐะฑะพัะฐะตั ะดะปั ะธะฝะดะตะบัะฐัะธะธ ะฟะพะธัะบะพะฒะธะบะฐะผะธ
5. โ ะััั fallback ะดะปั ะพะฑัะฐัะฝะพะน ัะพะฒะผะตััะธะผะพััะธ

**๐ฏ ะัะต 4 ััะฐะฟะฐ JSON-LD ะฟัะพะตะบัะฐ ะทะฐะฒะตััะตะฝั!** ๐
