<template>
  <div
    class="min-h-screen bg-gradient-to-br from-black via-gray-950 to-black text-white font-sans"
  >
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav
      class="bg-[#161A21]/80 backdrop-blur-sm border-b border-[#353A4A] sticky top-0 z-50"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex items-center justify-between">
          <NuxtLink
            to="/admin/slots"
            class="inline-flex items-center text-[#9CA3AF] hover:text-[#FF6E48] transition-colors font-medium"
          >
            <svg
              class="w-5 h-5 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              />
            </svg>
            –ù–∞–∑–∞–¥ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–ª–æ—Ç–∞–º–∏
          </NuxtLink>

          <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
          <div class="flex items-center">
            <div class="flex items-center space-x-3">
              <div
                class="w-10 h-10 bg-gradient-to-r from-[#FF6E48] to-[#CD5A3C] rounded-xl flex items-center justify-center"
              >
                <svg
                  class="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                  ></path>
                </svg>
              </div>
              <div>
                <h1 class="text-xl font-bold text-[#E5E7EB] font-display">
                  –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Hero —Å–µ–∫—Ü–∏–∏
                </h1>
                <p class="text-sm text-[#9CA3AF]">
                  {{ slot?.name || '–ù–æ–≤—ã–π —Å–ª–æ—Ç' }}
                </p>
              </div>
            </div>
          </div>

          <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
          <div class="flex items-center gap-3">
            <button
              @click="resetForm"
              class="px-4 py-2 border border-[#353A4A] text-[#9CA3AF] bg-[#1B1E26] rounded-lg hover:bg-[#353A4A] hover:border-[#63F3AB]/40 hover:text-[#E5E7EB] font-medium transition-all duration-200"
            >
              –°–±—Ä–æ—Å
            </button>
            <button
              @click="saveSlot"
              :disabled="saving"
              class="px-6 py-2 bg-gradient-to-r from-[#FF6E48] to-[#CD5A3C] hover:from-[#CD5A3C] hover:to-[#FF6E48] disabled:from-[#353A4A] disabled:to-[#353A4A] text-white rounded-lg font-semibold transition-all duration-200 transform hover:scale-105 disabled:scale-100"
            >
              {{ saving ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' }}
            </button>
            <NuxtLink
              :to="`/slots/${slot?.slug || 'preview'}`"
              target="_blank"
              class="px-4 py-2 bg-gradient-to-r from-[#63F3AB] to-[#51C58B] hover:from-[#51C58B] hover:to-[#63F3AB] text-black rounded-lg font-semibold transition-all duration-200 transform hover:scale-105"
            >
              –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
            </NuxtLink>
          </div>
        </div>
      </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
      <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
        <div class="xl:col-span-2 space-y-8">
          <div
            class="bg-[#161A21]/50 backdrop-blur-sm rounded-2xl p-8 border border-[#353A4A] relative overflow-hidden"
          >
            <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ–Ω -->
            <div
              class="absolute inset-0 bg-gradient-to-br from-[#FF6E48]/5 via-transparent to-[#00EDFF]/5"
            ></div>
            <div
              class="absolute top-0 right-0 w-64 h-64 bg-[#FF6E48]/10 rounded-full blur-3xl -translate-y-32 translate-x-32"
            ></div>

            <div class="relative z-10">
              <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-4">
                  <div
                    class="w-16 h-16 bg-gradient-to-br from-[#FF6E48] to-[#CD5A3C] rounded-2xl flex items-center justify-center shadow-xl transform rotate-3 animate-pulse"
                  >
                    <svg
                      class="w-8 h-8 text-white"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"
                      ></path>
                    </svg>
                  </div>
                  <div
                    class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center animate-bounce"
                  >
                    <span class="text-white text-xs font-bold">üèÜ</span>
                  </div>
                </div>
                <div>
                  <h2
                    class="text-4xl font-bold bg-gradient-to-r from-[#E5E7EB] via-[#FF6E48] to-[#00EDFF] bg-clip-text text-transparent font-display"
                  >
                    Hero –°–µ–∫—Ü–∏—è
                  </h2>
                  <div
                    class="h-1 w-28 bg-gradient-to-r from-[#FF6E48] to-[#00EDFF] rounded-full mt-2"
                  ></div>
                </div>
              </div>

              <form @submit.prevent="saveSlot" class="space-y-6">
                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                <div
                  class="group bg-gradient-to-r from-[#FF6E48]/10 to-[#CD5A3C]/10 border border-[#FF6E48]/20 rounded-xl p-6 hover:border-[#FF6E48]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#FF6E48] to-[#CD5A3C] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display"
                        >
                          –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                        </h3>
                        <p class="text-sm text-[#FF6E48]">
                          –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–ª–æ—Ç–∞
                        </p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="showBasicSection = !showBasicSection"
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#FF6E48]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showBasicSection"
                    >
                      {{ showBasicSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å' }}
                    </button>
                  </div>
                  <div v-show="showBasicSection" class="space-y-4">
                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ -->
                    <div>
                      <label
                        class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                      >
                        <svg
                          class="w-4 h-4 text-[#FF6E48]"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                          ></path>
                        </svg>
                        –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ *
                      </label>
                      <input
                        v-model="form.name"
                        type="text"
                        required
                        class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#FF6E48] focus:border-[#FF6E48] transition-all duration-200"
                        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Gates of Olympus"
                      />
                    </div>

                    <!-- Slug (URL) -->
                    <div>
                      <label
                        class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                      >
                        <svg
                          class="w-4 h-4 text-[#00EDFF]"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"
                          ></path>
                        </svg>
                        URL –∞–¥—Ä–µ—Å (slug) *
                      </label>
                      <input
                        v-model="form.slug"
                        type="text"
                        required
                        class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#00EDFF] focus:border-[#00EDFF] transition-all duration-200"
                        placeholder="gates-of-olympus"
                      />
                      <p class="mt-1 text-xs text-[#9CA3AF]">
                        –ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: /slots/{{
                          form.slug || 'your-slug'
                        }}
                      </p>
                    </div>

                    <!-- –ü—Ä–æ–≤–∞–π–¥–µ—Ä -->
                    <div>
                      <label
                        class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                      >
                        <svg
                          class="w-4 h-4 text-[#CD0F8B]"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
                          ></path>
                        </svg>
                        –ü—Ä–æ–≤–∞–π–¥–µ—Ä *
                      </label>
                      <select
                        v-model="form.provider_id"
                        required
                        class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] focus:outline-none focus:ring-2 focus:ring-[#CD0F8B] focus:border-[#CD0F8B] transition-all duration-200"
                      >
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞</option>
                        <option
                          v-for="provider in providers"
                          :key="provider.id"
                          :value="provider.id"
                        >
                          {{ provider.name }}
                        </option>
                      </select>
                    </div>

                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
                    <div>
                      <label
                        class="block text-sm font-medium text-gray-300 mb-2"
                      >
                        –û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è Hero —Å–µ–∫—Ü–∏–∏
                      </label>
                      <div class="text-xs text-gray-400 mb-2">
                        –ú–∞–∫—Å–∏–º—É–º 200 —Å–∏–º–≤–æ–ª–æ–≤
                      </div>
                      <textarea
                        v-model="form.description"
                        rows="4"
                        maxlength="200"
                        class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none"
                        placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ Hero —Å–µ–∫—Ü–∏–∏"
                      ></textarea>
                    </div>
                  </div>
                </div>

                <!-- –°—Å—ã–ª–∫–∏ –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π Hero —Å–µ–∫—Ü–∏–∏ -->
                <div
                  class="group bg-gradient-to-r from-[#00EDFF]/10 to-[#01BFCF]/10 border border-[#00EDFF]/20 rounded-xl p-6 hover:border-[#00EDFF]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#00EDFF] to-[#01BFCF] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display"
                        >
                          –°—Å—ã–ª–∫–∏ –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
                        </h3>
                        <p class="text-sm text-[#00EDFF]">
                          –ö–Ω–æ–ø–∫–∏ –≤ Hero —Å–µ–∫—Ü–∏–∏
                        </p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="showHeroLinksSection = !showHeroLinksSection"
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#00EDFF]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showHeroLinksSection"
                    >
                      {{ showHeroLinksSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å' }}
                    </button>
                  </div>
                  <div v-show="showHeroLinksSection" class="space-y-4">
                    <div class="grid grid-cols-1 gap-4">
                      <!-- –°—Å—ã–ª–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ" -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#00EDFF]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-5.5 2a3 3 0 105 0m-5 0a3 3 0 105 0m7.744-1.245l-.001.001m-7.743-1.245l-.001.001"
                            ></path>
                          </svg>
                          –°—Å—ã–ª–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ" (–¥–µ–º–æ-—Ä–µ–∂–∏–º)
                        </label>
                        <input
                          v-model="form.demo_url"
                          type="url"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#00EDFF] focus:border-[#00EDFF] transition-all duration-200"
                          placeholder="https://demo.provider.com/gates-of-olympus"
                        />
                        <p class="mt-1 text-xs text-[#9CA3AF]">
                          URL –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ –∏–≥—Ä—ã. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ,
                          –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
                        </p>
                      </div>

                      <!-- –°—Å—ã–ª–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å –Ω–∞ –¥–µ–Ω—å–≥–∏" -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#00EDFF]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            ></path>
                          </svg>
                          –°—Å—ã–ª–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å –Ω–∞ –¥–µ–Ω—å–≥–∏"
                        </label>
                        <input
                          v-model="form.real_play_url"
                          type="url"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#00EDFF] focus:border-[#00EDFF] transition-all duration-200"
                          placeholder="https://casino.com/games/gates-of-olympus"
                        />
                        <p class="mt-1 text-xs text-[#9CA3AF]">
                          URL –¥–ª—è –∏–≥—Ä—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –≤ –∫–∞–∑–∏–Ω–æ. –ï—Å–ª–∏ –Ω–µ
                          —É–∫–∞–∑–∞–Ω–æ, –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä—ã -->
                <div
                  class="group bg-gradient-to-r from-[#63F3AB]/10 to-[#51C58B]/10 border border-[#63F3AB]/20 rounded-xl p-6 hover:border-[#63F3AB]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#63F3AB] to-[#51C58B] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display"
                        >
                          –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä—ã
                        </h3>
                        <p class="text-sm text-[#63F3AB]">
                          –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                        </p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="
                        showGameCharacteristicsSection =
                          !showGameCharacteristicsSection
                      "
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#63F3AB]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showGameCharacteristicsSection"
                    >
                      {{
                        showGameCharacteristicsSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å'
                      }}
                    </button>
                  </div>
                  <div
                    v-show="showGameCharacteristicsSection"
                    class="space-y-4"
                  >
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <!-- RTP -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#63F3AB]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M13 10V3L4 14h7v7l9-11h-7z"
                            ></path>
                          </svg>
                          RTP (%)
                        </label>
                        <input
                          v-model.number="form.rtp"
                          type="number"
                          step="0.01"
                          min="50"
                          max="99"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#63F3AB] focus:border-[#63F3AB] transition-all duration-200"
                          placeholder="96.50"
                        />
                      </div>

                      <!-- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#63F3AB]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"
                            ></path>
                          </svg>
                          –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
                        </label>
                        <select
                          v-model="form.volatility"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] focus:outline-none focus:ring-2 focus:ring-[#63F3AB] focus:border-[#63F3AB] transition-all duration-200"
                        >
                          <option value="low">–ù–∏–∑–∫–∞—è</option>
                          <option value="medium">–°—Ä–µ–¥–Ω—è—è</option>
                          <option value="high">–í—ã—Å–æ–∫–∞—è</option>
                        </select>
                      </div>

                      <!-- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#63F3AB]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M19 14l-7 7m0 0l-7-7m7 7V3"
                            ></path>
                          </svg>
                          –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞
                        </label>
                        <input
                          v-model="form.min_bet"
                          type="text"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#63F3AB] focus:border-[#63F3AB] transition-all duration-200"
                          placeholder="‚Ç¨0.20"
                        />
                      </div>

                      <!-- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#63F3AB]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M5 10l7-7m0 0l7 7m-7-7v18"
                            ></path>
                          </svg>
                          –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞
                        </label>
                        <input
                          v-model="form.max_bet"
                          type="text"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#63F3AB] focus:border-[#63F3AB] transition-all duration-200"
                          placeholder="‚Ç¨100"
                        />
                      </div>

                      <!-- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#63F3AB]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            ></path>
                          </svg>
                          –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à (x –æ—Ç —Å—Ç–∞–≤–∫–∏)
                        </label>
                        <input
                          v-model.number="form.max_win"
                          type="number"
                          min="1"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#63F3AB] focus:border-[#63F3AB] transition-all duration-200"
                          placeholder="5000"
                        />
                      </div>

                      <!-- –î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞ -->
                      <div>
                        <label
                          class="block text-sm font-medium text-gray-300 mb-2"
                        >
                          –î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞
                        </label>
                        <input
                          v-model="form.release_date"
                          type="date"
                          class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                        />
                      </div>

                      <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ä–∞–±–∞–Ω–æ–≤ -->
                      <div>
                        <label
                          class="block text-sm font-medium text-gray-300 mb-2"
                        >
                          –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ä–∞–±–∞–Ω–æ–≤
                        </label>
                        <input
                          v-model.number="form.reels"
                          type="number"
                          min="1"
                          step="1"
                          class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                          placeholder="5"
                        />
                      </div>

                      <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—è–¥–æ–≤ -->
                      <div>
                        <label
                          class="block text-sm font-medium text-gray-300 mb-2"
                        >
                          –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—è–¥–æ–≤
                        </label>
                        <input
                          v-model.number="form.rows"
                          type="number"
                          min="1"
                          step="1"
                          class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                          placeholder="3"
                        />
                      </div>

                      <!-- –õ–∏–Ω–∏–∏ –≤—ã–ø–ª–∞—Ç -->
                      <div>
                        <label
                          class="block text-sm font-medium text-gray-300 mb-2"
                        >
                          –õ–∏–Ω–∏–∏ –≤—ã–ø–ª–∞—Ç
                        </label>
                        <div class="relative">
                          <select
                            v-model="paylineType"
                            class="absolute right-2 top-2 z-10 px-2 py-1 bg-gray-600 border border-gray-500 rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-500"
                          >
                            <option value="number">–ß–∏—Å–ª–æ</option>
                            <option value="text">–¢–µ–∫—Å—Ç</option>
                          </select>
                          <input
                            v-if="paylineType === 'number'"
                            v-model.number="form.paylines"
                            type="number"
                            min="1"
                            max="1024"
                            class="w-full px-4 py-3 pr-20 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                            placeholder="25"
                          />
                          <input
                            v-else
                            v-model="form.paylines"
                            type="text"
                            class="w-full px-4 py-3 pr-20 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                            placeholder="Scatter Pays"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –†–µ–π—Ç–∏–Ω–≥ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å -->
                <div
                  class="group bg-gradient-to-r from-[#CD0F8B]/10 to-[#CD0F8B]/10 border border-[#CD0F8B]/20 rounded-xl p-6 hover:border-[#CD0F8B]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#CD0F8B] to-[#CD0F8B] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display"
                        >
                          –†–µ–π—Ç–∏–Ω–≥ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å
                        </h3>
                        <p class="text-sm text-[#CD0F8B]">–ü–æ–∑–∏—Ü–∏–∏ –∏ –æ—Ü–µ–Ω–∫–∏</p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="showRatingSection = !showRatingSection"
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#CD0F8B]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showRatingSection"
                    >
                      {{ showRatingSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å' }}
                    </button>
                  </div>

                  <div v-show="showRatingSection" class="space-y-4">
                    <!-- –ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ -->
                    <div>
                      <label
                        class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                      >
                        <svg
                          class="w-4 h-4 text-[#CD0F8B]"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"
                          ></path>
                        </svg>
                        –ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ
                      </label>
                      <input
                        v-model.number="form.popularity_rank"
                        type="number"
                        min="1"
                        class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#CD0F8B] focus:border-[#CD0F8B] transition-all duration-200"
                        placeholder="12"
                      />
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <!-- –†–µ–∞–ª—å–Ω—ã–π RTP -->
                      <div>
                        <label
                          class="flex items-center gap-2 text-sm font-medium text-[#E5E7EB] mb-2"
                        >
                          <svg
                            class="w-4 h-4 text-[#CD0F8B]"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                            ></path>
                          </svg>
                          –†–µ–∞–ª—å–Ω—ã–π RTP (%)
                        </label>
                        <input
                          v-model.number="form.real_rtp"
                          type="number"
                          step="0.01"
                          min="50"
                          max="99"
                          class="w-full px-4 py-3 bg-[#1B1E26] border border-[#353A4A] rounded-lg text-[#E5E7EB] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#CD0F8B] focus:border-[#CD0F8B] transition-all duration-200"
                          placeholder="97.45"
                        />
                      </div>

                      <!-- –ß–∞—Å—Ç–æ—Ç–∞ –±–æ–Ω—É—Å–∞ -->
                      <div>
                        <label
                          class="block text-sm font-medium text-gray-300 mb-2"
                        >
                          –ß–∞—Å—Ç–æ—Ç–∞ –±–æ–Ω—É—Å–∞
                        </label>
                        <input
                          v-model="form.bonus_frequency"
                          type="text"
                          class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                          placeholder="1:448"
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –ú–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="space-y-4">
                  <h3
                    class="text-lg font-semibold text-pink-400 border-b border-gray-600 pb-2"
                  >
                    –ú–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç Hero —Å–µ–∫—Ü–∏–∏
                  </h3>

                  <!-- –†–µ–º–∞—Ä–∫–∞ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ -->
                  <div
                    class="bg-blue-500/10 border border-blue-400/30 rounded-lg p-4"
                  >
                    <div class="flex items-start gap-3">
                      <div class="flex-shrink-0">
                        <div
                          class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"
                        >
                          <svg
                            class="w-4 h-4 text-white"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                            ></path>
                          </svg>
                        </div>
                      </div>
                      <div>
                        <h4 class="text-sm font-semibold text-blue-300 mb-2">
                          üìê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã –º–µ–¥–∏–∞
                        </h4>
                        <div class="text-xs text-blue-200 space-y-1">
                          <div>
                            <strong>üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</strong> 1200x1600 –ø–∏–∫—Å–µ–ª–µ–π
                            (—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 3:4)
                          </div>
                          <div>
                            <strong>üé¨ –í–∏–¥–µ–æ:</strong> 1200x1600 –ø–∏–∫—Å–µ–ª–µ–π,
                            –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ 30 —Å–µ–∫—É–Ω–¥
                          </div>
                          <div>
                            <strong>üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                            –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —ç–∫—Ä–∞–Ω
                          </div>
                          <div>
                            <strong>üíæ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:</strong> –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ
                            2MB, –≤–∏–¥–µ–æ –¥–æ 10MB
                          </div>
                        </div>
                        <div class="mt-2 text-xs text-blue-300">
                          üí° <strong>–°–æ–≤–µ—Ç:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ
                          –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                          –Ω–∞ —Ä–µ—Ç–∏–Ω–∞-–¥–∏—Å–ø–ª–µ—è—Ö
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- –¢–∏–ø –º–µ–¥–∏–∞ -->
                  <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">
                      –¢–∏–ø –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                    </label>
                    <select
                      v-model="form.media_type"
                      class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
                    >
                      <option value="image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</option>
                      <option value="video">–í–∏–¥–µ–æ</option>
                    </select>
                    <p class="mt-1 text-xs text-gray-400">
                      –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –æ–±–ª–æ–∂–∫–∏ —Å–ª–æ—Ç–∞
                    </p>
                  </div>

                  <!-- URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) -->
                  <div v-if="form.media_type === 'image'">
                    <label class="block text-sm font-medium text-gray-300 mb-2">
                      URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    </label>
                    <input
                      v-model="form.image_url"
                      type="url"
                      class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
                      placeholder="https://example.com/slot-image.jpg"
                    />
                    <p class="mt-1 text-xs text-gray-400">
                      –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ—Ç–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π
                      —Ä–∞–∑–º–µ—Ä: 1200x1600px (3:4)
                    </p>
                  </div>

                  <!-- URL –≤–∏–¥–µ–æ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –≤–∏–¥–µ–æ) -->
                  <div v-if="form.media_type === 'video'">
                    <label class="block text-sm font-medium text-gray-300 mb-2">
                      URL –≤–∏–¥–µ–æ
                    </label>
                    <input
                      v-model="form.video_url"
                      type="url"
                      class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
                      placeholder="https://example.com/slot-video.mp4"
                    />
                    <p class="mt-1 text-xs text-gray-400">
                      –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ —Å–ª–æ—Ç–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä:
                      1200x1600px, –¥–æ 30 —Å–µ–∫. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: .mp4,
                      .webm, .ogg
                    </p>
                  </div>

                  <!-- –ü—Ä–µ–≤—å—é –º–µ–¥–∏–∞ -->
                  <div v-if="form.image_url || form.video_url" class="mt-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">
                      –ü—Ä–µ–≤—å—é –º–µ–¥–∏–∞
                    </label>
                    <div
                      class="bg-gray-700 rounded-lg p-4 border border-gray-600"
                    >
                      <!-- –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                      <div v-if="form.media_type === 'image' && form.image_url">
                        <img
                          :src="form.image_url"
                          :alt="form.name || '–°–ª–æ—Ç'"
                          class="w-full max-w-sm h-48 object-cover rounded-lg mx-auto"
                          @error="handleImageError"
                          @load="handleImageLoad"
                        />
                      </div>
                      <!-- –ü—Ä–µ–≤—å—é –≤–∏–¥–µ–æ -->
                      <div
                        v-else-if="
                          form.media_type === 'video' && form.video_url
                        "
                      >
                        <video
                          :src="form.video_url"
                          class="w-full max-w-sm h-48 object-cover rounded-lg mx-auto"
                          controls
                          muted
                          preload="metadata"
                          @error="handleVideoError"
                          @loadeddata="handleVideoLoad"
                        >
                          –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ.
                        </video>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ Hero —Å–µ–∫—Ü–∏–∏ -->
                <div
                  class="group bg-gradient-to-r from-[#FF6E48]/10 to-[#CD5A3C]/10 border border-[#FF6E48]/20 rounded-xl p-6 hover:border-[#FF6E48]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#FF6E48] to-[#CD5A3C] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                          ></path>
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display"
                        >
                          –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏
                        </h3>
                        <p class="text-sm text-[#FF6E48]">
                          Hero —Å–µ–∫—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∫
                        </p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="showMechanicsSection = !showMechanicsSection"
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#FF6E48]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showMechanicsSection"
                    >
                      {{ showMechanicsSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å' }}
                    </button>
                  </div>
                  <div v-show="showMechanicsSection" class="space-y-4">
                    <p class="text-sm text-gray-400">
                      –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤
                      Hero —Å–µ–∫—Ü–∏–∏ —Å–ª–æ—Ç–∞
                    </p>

                    <!-- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∫ -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div
                        v-for="mechanic in availableMechanics"
                        :key="mechanic.id"
                        class="flex items-center p-3 bg-gray-700 rounded-lg border border-gray-600 hover:border-indigo-500 transition-colors"
                      >
                        <input
                          :id="`mechanic-${mechanic.id}`"
                          v-model="selectedMechanics"
                          :value="mechanic.id"
                          type="checkbox"
                          class="w-4 h-4 text-indigo-600 bg-gray-600 border-gray-500 rounded focus:ring-indigo-500 focus:ring-2"
                        />
                        <label
                          :for="`mechanic-${mechanic.id}`"
                          class="ml-3 flex-1 cursor-pointer"
                        >
                          <div class="flex items-center gap-2">
                            <span
                              v-if="mechanic.icon"
                              class="text-lg"
                              v-html="mechanic.icon"
                            ></span>
                            <div>
                              <div class="text-sm font-medium text-white">
                                {{ mechanic.name }}
                              </div>
                              <div
                                class="text-xs text-gray-400"
                                v-if="mechanic.description"
                              >
                                {{ mechanic.description }}
                              </div>
                            </div>
                          </div>
                        </label>
                      </div>
                    </div>

                    <!-- –í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ -->
                    <div
                      v-if="selectedMechanics && selectedMechanics.length > 0"
                      class="mt-4"
                    >
                      <h4 class="text-sm font-medium text-gray-300 mb-2">
                        –í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏:
                      </h4>
                      <div class="flex flex-wrap gap-2">
                        <span
                          v-for="mechanicId in selectedMechanics"
                          :key="mechanicId"
                          class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-600/20 text-indigo-300 border border-indigo-500/30"
                        >
                          {{ getMechanicName(mechanicId) }}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –ë–æ–Ω—É—Å—ã Hero —Å–µ–∫—Ü–∏–∏ -->
                <div
                  class="group bg-gradient-to-r from-[#63F3AB]/10 to-[#51C58B]/10 border border-[#63F3AB]/20 rounded-xl p-6 hover:border-[#63F3AB]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#63F3AB] to-[#51C58B] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display flex items-center gap-2"
                        >
                          –ë–æ–Ω—É—Å—ã Hero —Å–µ–∫—Ü–∏–∏
                          <span
                            class="text-xs bg-[#63F3AB]/20 text-[#63F3AB] px-3 py-1 rounded-full border border-[#63F3AB]/30"
                          >
                            {{ selectedBonuses.length }} –≤—ã–±—Ä–∞–Ω–æ
                          </span>
                        </h3>
                        <p class="text-sm text-[#63F3AB]">
                          –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–Ω—ã–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
                        </p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="showBonusesSection = !showBonusesSection"
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#63F3AB]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showBonusesSection"
                    >
                      {{ showBonusesSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å' }}
                    </button>
                  </div>
                  <div v-show="showBonusesSection" class="space-y-4">
                    <div
                      class="bg-[#63F3AB]/10 border border-[#63F3AB]/20 rounded-lg p-4"
                    >
                      <p class="text-sm text-[#63F3AB] flex items-center gap-2">
                        <svg
                          class="w-4 h-4 text-[#63F3AB]"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                          ></path>
                        </svg>
                        –í—ã–±–µ—Ä–∏—Ç–µ –±–æ–Ω—É—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ Hero
                        —Å–µ–∫—Ü–∏–∏ —Å–ª–æ—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                      </p>
                    </div>

                    <!-- –ü–æ–∏—Å–∫ –±–æ–Ω—É—Å–æ–≤ -->
                    <div class="relative">
                      <input
                        v-model="bonusSearchQuery"
                        type="text"
                        placeholder="–ü–æ–∏—Å–∫ –±–æ–Ω—É—Å–æ–≤..."
                        class="w-full bg-[#1B1E26] border border-[#353A4A] rounded-lg px-4 py-2 pl-10 text-[#E5E7EB] placeholder-[#9CA3AF] focus:border-[#63F3AB] focus:ring-1 focus:ring-[#63F3AB] transition-all duration-200"
                      />
                      <svg
                        class="w-4 h-4 text-gray-400 absolute left-3 top-3"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                        ></path>
                      </svg>
                    </div>

                    <!-- –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                    <div class="flex flex-wrap gap-2">
                      <button
                        @click="selectAllBonuses"
                        type="button"
                        class="text-xs px-3 py-1 bg-emerald-600 hover:bg-emerald-700 text-white rounded-md transition-colors"
                      >
                        –í—ã–±—Ä–∞—Ç—å –≤—Å–µ
                      </button>
                      <button
                        @click="clearAllBonuses"
                        type="button"
                        class="text-xs px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors"
                      >
                        –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                      </button>
                      <button
                        @click="selectPopularBonuses"
                        type="button"
                        class="text-xs px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors"
                      >
                        –¢–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ
                      </button>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ -->
                    <div
                      class="grid grid-cols-1 lg:grid-cols-2 gap-3 max-h-60 overflow-y-auto"
                    >
                      <div
                        v-for="bonus in filteredBonuses"
                        :key="bonus.id"
                        class="flex items-center p-3 bg-gray-700 rounded-lg border border-gray-600 hover:border-amber-500 transition-all duration-200"
                        :class="
                          selectedBonuses.includes(bonus.id)
                            ? 'border-amber-500 bg-amber-500/10'
                            : ''
                        "
                      >
                        <input
                          :id="`bonus-${bonus.id}`"
                          v-model="selectedBonuses"
                          :value="bonus.id"
                          type="checkbox"
                          class="w-4 h-4 text-amber-600 bg-gray-600 border-gray-500 rounded focus:ring-amber-500 focus:ring-2"
                        />
                        <label
                          :for="`bonus-${bonus.id}`"
                          class="ml-3 flex-1 cursor-pointer"
                        >
                          <div class="flex items-center gap-2">
                            <span
                              v-if="bonus.icon"
                              class="text-lg"
                              v-html="bonus.icon"
                            ></span>
                            <div>
                              <div class="text-sm font-medium text-white">
                                {{ bonus.name }}
                              </div>
                              <div
                                class="text-xs text-gray-400"
                                v-if="bonus.description"
                              >
                                {{ bonus.description }}
                              </div>
                            </div>
                          </div>
                        </label>
                      </div>
                    </div>

                    <!-- –í—ã–±—Ä–∞–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã -->
                    <div
                      v-if="selectedBonuses && selectedBonuses.length > 0"
                      class="mt-4"
                    >
                      <h4 class="text-sm font-medium text-gray-300 mb-2">
                        –í—ã–±—Ä–∞–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã:
                      </h4>
                      <div class="flex flex-wrap gap-2">
                        <span
                          v-for="bonusId in selectedBonuses"
                          :key="bonusId"
                          class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-amber-600/20 text-amber-300 border border-amber-500/30"
                        >
                          {{ getBonusName(bonusId) }}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –¢–µ–º–∞—Ç–∏–∫–∏ Hero —Å–µ–∫—Ü–∏–∏ -->
                <div
                  class="group bg-gradient-to-r from-[#00EDFF]/10 to-[#01BFCF]/10 border border-[#00EDFF]/20 rounded-xl p-6 hover:border-[#00EDFF]/40 transition-all duration-300"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-[#00EDFF] to-[#01BFCF] rounded-xl flex items-center justify-center"
                      >
                        <svg
                          class="w-6 h-6 text-white"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17v4a2 2 0 002 2h4M11 7l-6.3 6.3"
                          ></path>
                        </svg>
                      </div>
                      <div>
                        <h3
                          class="text-xl font-bold text-[#E5E7EB] font-display flex items-center gap-2"
                        >
                          –¢–µ–º–∞—Ç–∏–∫–∏ Hero —Å–µ–∫—Ü–∏–∏
                          <span
                            class="text-xs bg-[#00EDFF]/20 text-[#00EDFF] px-3 py-1 rounded-full border border-[#00EDFF]/30"
                          >
                            {{ selectedThemes.length }} –≤—ã–±—Ä–∞–Ω–æ
                          </span>
                        </h3>
                        <p class="text-sm text-[#00EDFF]">
                          –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
                        </p>
                      </div>
                    </div>
                    <button
                      type="button"
                      @click="showThemesSection = !showThemesSection"
                      class="text-xs px-4 py-2 rounded-lg border border-[#353A4A] bg-[#1B1E26] hover:bg-[#353A4A] hover:border-[#00EDFF]/40 text-[#9CA3AF] hover:text-[#E5E7EB] transition-all duration-200 font-medium"
                      :aria-expanded="showThemesSection"
                    >
                      {{ showThemesSection ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å' }}
                    </button>
                  </div>
                  <div v-show="showThemesSection" class="space-y-4">
                    <div
                      class="bg-[#00EDFF]/10 border border-[#00EDFF]/20 rounded-lg p-4"
                    >
                      <p class="text-sm text-[#00EDFF] flex items-center gap-2">
                        <svg
                          class="w-4 h-4 text-[#00EDFF]"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                          ></path>
                        </svg>
                        –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º–∞—Ç–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ Hero
                        —Å–µ–∫—Ü–∏–∏ —Å–ª–æ—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                      </p>
                    </div>

                    <!-- –ü–æ–∏—Å–∫ —Ç–µ–º–∞—Ç–∏–∫ -->
                    <div class="relative">
                      <input
                        v-model="themeSearchQuery"
                        type="text"
                        placeholder="–ü–æ–∏—Å–∫ —Ç–µ–º–∞—Ç–∏–∫..."
                        class="w-full bg-[#1B1E26] border border-[#353A4A] rounded-lg px-4 py-2 pl-10 text-[#E5E7EB] placeholder-[#9CA3AF] focus:border-[#00EDFF] focus:ring-1 focus:ring-[#00EDFF] transition-all duration-200"
                      />
                      <svg
                        class="w-4 h-4 text-gray-400 absolute left-3 top-3"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                        ></path>
                      </svg>
                    </div>

                    <!-- –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã -->
                    <div class="flex flex-wrap gap-2">
                      <button
                        @click="clearAllThemes"
                        type="button"
                        class="text-xs px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors"
                      >
                        –û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä
                      </button>
                      <span
                        class="text-xs text-emerald-300 px-3 py-1 bg-emerald-500/20 rounded-md border border-emerald-500/30"
                      >
                        ‚ÑπÔ∏è –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ç–µ–º–∞—Ç–∏–∫—É
                      </span>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–º–∞—Ç–∏–∫ -->
                    <div
                      class="grid grid-cols-1 lg:grid-cols-2 gap-3 max-h-60 overflow-y-auto"
                    >
                      <div
                        v-for="theme in filteredThemes"
                        :key="theme.id"
                        class="flex items-center p-3 bg-gray-700 rounded-lg border border-gray-600 hover:border-emerald-500 transition-all duration-200"
                        :class="
                          selectedThemes[0] === theme.id
                            ? 'border-emerald-500 bg-emerald-500/10'
                            : ''
                        "
                      >
                        <input
                          :id="`theme-${theme.id}`"
                          v-model="selectedThemes[0]"
                          :value="theme.id"
                          type="radio"
                          name="theme"
                          class="w-4 h-4 text-emerald-600 bg-gray-600 border-gray-500 focus:ring-emerald-500 focus:ring-2"
                        />
                        <label
                          :for="`theme-${theme.id}`"
                          class="ml-3 flex-1 cursor-pointer"
                        >
                          <div class="flex items-center gap-2">
                            <span
                              v-if="theme.icon"
                              class="text-lg"
                              v-html="theme.icon"
                            ></span>
                            <div>
                              <div class="text-sm font-medium text-white">
                                {{ theme.name }}
                              </div>
                              <div
                                class="text-xs text-gray-400"
                                v-if="theme.description"
                              >
                                {{ theme.description }}
                              </div>
                            </div>
                          </div>
                        </label>
                      </div>
                    </div>

                    <!-- –í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞ -->
                    <div
                      v-if="
                        selectedThemes &&
                        selectedThemes.length > 0 &&
                        selectedThemes[0]
                      "
                      class="mt-4"
                    >
                      <h4 class="text-sm font-medium text-gray-300 mb-2">
                        –í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞:
                      </h4>
                      <div class="flex flex-wrap gap-2">
                        <span
                          class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-emerald-600/20 text-emerald-300 border border-emerald-500/30"
                        >
                          {{ getThemeName(selectedThemes[0]) }}
                        </span>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
                <div
                  class="flex justify-end gap-4 pt-6 border-t border-gray-600"
                >
                  <button
                    type="button"
                    @click="resetForm"
                    class="px-6 py-3 border border-gray-600 text-gray-300 bg-gray-800 rounded-lg hover:bg-gray-700 hover:border-gray-500 font-medium transition-all duration-200"
                  >
                    –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
                  </button>
                  <button
                    type="submit"
                    :disabled="saving"
                    class="px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-600 text-white rounded-lg font-semibold transition-all duration-200"
                  >
                    {{ saving ? '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' }}
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: –ü—Ä–µ–≤—å—é -->
          <div v-if="false" class="xl:sticky xl:top-24 xl:h-fit">
            <div
              class="bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700"
            >
              <h2
                class="text-xl font-bold text-white mb-4 flex items-center gap-3"
              >
                <svg
                  class="w-6 h-6 text-emerald-400"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  />
                </svg>
                –ü—Ä–µ–≤—å—é Hero —Å–µ–∫—Ü–∏–∏
              </h2>

              <!-- –ù–æ–≤–æ–µ –ø—Ä–µ–≤—å—é Hero —Å–µ–∫—Ü–∏–∏ (–º–∞–∫–µ—Ç, –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–π –∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É) -->
              <div
                class="relative rounded-xl p-4 bg-zinc-950 text-slate-100 border border-white/10 overflow-hidden"
              >
                <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ -->
                <div class="absolute inset-0 opacity-20 pointer-events-none">
                  <div
                    class="absolute top-2 left-2 w-20 h-20 bg-purple-500/30 rounded-full blur-xl"
                  ></div>
                  <div
                    class="absolute bottom-2 right-2 w-16 h-16 bg-blue-500/30 rounded-full blur-lg"
                  ></div>
                </div>

                <div class="relative z-10">
                  <div class="hidden lg:flex gap-6 items-start">
                    <!-- –ú–µ–¥–∏–∞ (–ø–æ—Ä—Ç—Ä–µ—Ç 3:4) -->
                    <div class="w-2/5">
                      <CometCard
                        :rotate-depth="17.5"
                        :translate-depth="20"
                        containerClassName="w-full h-full rounded-2xl"
                        className="relative aspect-[3/4] rounded-2xl overflow-hidden backdrop-blur-md border border-white/20 shadow-2xl"
                      >
                        <div class="absolute inset-0">
                          <div
                            v-if="form.media_type === 'image' && form.image_url"
                            class="absolute inset-0"
                          >
                            <img
                              :src="form.image_url"
                              :alt="form.name || '–°–ª–æ—Ç'"
                              class="w-full h-full object-cover"
                              @error="handlePreviewImageError"
                            />
                          </div>
                          <div
                            v-else-if="
                              form.media_type === 'video' && form.video_url
                            "
                            class="absolute inset-0"
                          >
                            <video
                              :src="form.video_url"
                              class="w-full h-full object-cover"
                              autoplay
                              loop
                              muted
                              preload="metadata"
                              @error="handlePreviewVideoError"
                            >
                              <source :src="form.video_url" type="video/mp4" />
                              <source
                                :src="
                                  form.video_url &&
                                  form.video_url.replace('.mp4', '.webm')
                                "
                                type="video/webm"
                              />
                            </video>
                          </div>
                          <div
                            v-if="!form.image_url && !form.video_url"
                            class="flex items-center justify-center h-full text-white/70 bg-black/30"
                          >
                            –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ—Ç–∞
                          </div>
                        </div>
                      </CometCard>
                    </div>

                    <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, CTA -->
                    <div class="flex-1 min-w-0">
                      <div class="mb-3">
                        <span
                          class="inline-block bg-gradient-to-r from-purple-500/30 to-pink-500/30 backdrop-blur-sm text-white px-4 py-2 rounded-full text-xs font-bold border border-purple-400/30"
                          >{{ currentProviderName }}</span
                        >
                      </div>

                      <h1
                        class="text-xl lg:text-3xl font-bold bg-gradient-to-r from-blue-200 via-purple-300 to-pink-200 bg-clip-text text-transparent mb-3 leading-tight"
                      >
                        {{ form.name || '–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞' }}
                      </h1>

                      <p
                        class="text-white/80 text-sm lg:text-base mb-4 line-clamp-3"
                      >
                        {{
                          form.description ||
                          '–û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...'
                        }}
                      </p>

                      <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                      <div class="flex flex-col gap-3 w-full max-w-md">
                        <BackgroundGradient
                          :animate="true"
                          className="rounded-2xl"
                          containerClassName="w-full"
                        >
                          <a
                            v-if="form.demo_url && form.demo_url.trim()"
                            :href="form.demo_url"
                            target="_blank"
                            rel="nofollow noopener"
                            class="group relative w-full bg-gradient-to-r from-emerald-600/20 to-green-600/20 backdrop-blur-sm border border-emerald-400/30 text-white text-sm font-black py-3 px-5 rounded-2xl transition-all duration-500 shadow-2xl hover:shadow-emerald-500/60 transform hover:-translate-y-1 hover:scale-[1.02] flex items-center justify-center gap-3 overflow-hidden"
                          >
                            <span class="relative z-10">–ò–≥—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                            <span
                              class="relative z-10 bg-emerald-500/30 text-[10px] px-2 py-1 rounded-full font-bold border border-emerald-400/50"
                              >DEMO</span
                            >
                          </a>
                          <button
                            v-else
                            type="button"
                            class="group relative w-full bg-gradient-to-r from-emerald-600/20 to-green-600/20 backdrop-blur-sm border border-emerald-400/30 text-white text-sm font-black py-3 px-5 rounded-2xl"
                          >
                            –ò–≥—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
                          </button>
                        </BackgroundGradient>

                        <BackgroundGradient
                          :animate="true"
                          className="rounded-2xl"
                          containerClassName="w-full"
                        >
                          <a
                            v-if="
                              form.real_play_url && form.real_play_url.trim()
                            "
                            :href="form.real_play_url"
                            target="_blank"
                            rel="nofollow sponsored noopener"
                            class="group relative w-full bg-gradient-to-r from-orange-600/20 to-red-600/20 backdrop-blur-sm border border-orange-400/30 text-white text-sm font-black py-3 px-5 rounded-2xl transition-all duration-500 shadow-2xl hover:shadow-orange-500/60 transform hover:-translate-y-1 hover:scale-[1.02] flex items-center justify-center gap-3 overflow-hidden"
                          >
                            <span class="relative z-10">–ò–≥—Ä–∞—Ç—å –Ω–∞ –¥–µ–Ω—å–≥–∏</span>
                            <span
                              class="relative z-10 bg-orange-500/30 text-[10px] px-2 py-1 rounded-full font-bold border border-orange-400/50"
                              >REAL</span
                            >
                          </a>
                          <button
                            v-else
                            type="button"
                            class="group relative w-full bg-gradient-to-r from-orange-600/20 to-red-600/20 backdrop-blur-sm border border-orange-400/30 text-white text-sm font-black py-3 px-5 rounded-2xl"
                          >
                            –ò–≥—Ä–∞—Ç—å –Ω–∞ –¥–µ–Ω—å–≥–∏
                          </button>
                        </BackgroundGradient>
                      </div>

                      <!-- –†–µ–π—Ç–∏–Ω–≥ –∏ –º–∏–Ω–∏-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
                      <div class="mt-4">
                        <div class="flex items-center gap-2 mb-3">
                          <div class="flex text-yellow-400 text-sm">
                            <span v-for="n in 5" :key="n" class="text-base">{{
                              (form.rating || 0) >= n ? '‚òÖ' : '‚òÜ'
                            }}</span>
                          </div>
                          <span class="text-white font-bold text-sm">{{
                            form.rating || '0'
                          }}</span>
                          <span class="text-white/60 text-sm">/ 5</span>
                        </div>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                          <div
                            class="bg-emerald-500/20 p-2 rounded border border-emerald-400/30"
                          >
                            <div class="text-emerald-300 font-bold">RTP</div>
                            <div class="text-white">
                              {{ form.rtp || '96.50' }}%
                            </div>
                          </div>
                          <div
                            class="bg-orange-500/20 p-2 rounded border border-orange-400/30"
                          >
                            <div class="text-orange-300 font-bold">
                              –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
                            </div>
                            <div class="text-white capitalize">
                              {{ currentVolatilityText }}
                            </div>
                          </div>
                          <div
                            class="bg-purple-500/20 p-2 rounded border border-purple-400/30"
                          >
                            <div class="text-purple-300 font-bold">
                              –ú–∞–∫—Å. –≤—ã–∏–≥—Ä—ã—à
                            </div>
                            <div class="text-white">
                              {{ form.max_win || '5000' }}x
                            </div>
                          </div>
                          <div
                            class="bg-blue-500/20 p-2 rounded border border-blue-400/30"
                          >
                            <div class="text-blue-300 font-bold">
                              –ú–∏–Ω. —Å—Ç–∞–≤–∫–∞
                            </div>
                            <div class="text-white">
                              {{ form.min_bet || '‚Ç¨0.20' }}
                            </div>
                          </div>
                        </div>

                        <div
                          class="mt-3 bg-yellow-500/20 p-2 rounded border border-yellow-400/30"
                        >
                          <div class="flex justify-between items-center mb-1">
                            <span class="text-white font-semibold text-xs"
                              >–†–µ–π—Ç–∏–Ω–≥</span
                            >
                            <span
                              class="bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black px-2 py-0.5 rounded-full text-xs"
                              >#{{ form.popularity_rank || '12' }} –∏–∑
                              2000+</span
                            >
                          </div>
                          <div
                            class="w-full bg-white/20 rounded-full h-2 overflow-hidden"
                          >
                            <div
                              class="bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full"
                              :style="`width: ${form.popularity_percentage || 94}%`"
                            ></div>
                          </div>
                        </div>
                      </div>

                      <!-- –ù–∞–≥—Ä–∞–¥—ã -->
                    </div>
                  </div>

                  <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–µ–≤—å—é –º–µ–¥–∏–∞ (–µ—Å–ª–∏ –Ω–µ—Ç –±–æ–ª—å—à–æ–≥–æ —ç–∫—Ä–∞–Ω–∞) -->
                  <div
                    class="lg:hidden mt-2 aspect-video bg-black/30 rounded-xl overflow-hidden border border-white/10"
                  >
                    <img
                      v-if="form.media_type === 'image' && form.image_url"
                      :src="form.image_url"
                      :alt="form.name || '–°–ª–æ—Ç'"
                      class="w-full h-full object-cover"
                      @error="handlePreviewImageError"
                    />
                    <video
                      v-else-if="form.media_type === 'video' && form.video_url"
                      :src="form.video_url"
                      class="w-full h-full object-cover"
                      autoplay
                      loop
                      muted
                      preload="metadata"
                      @error="handlePreviewVideoError"
                    ></video>
                    <div
                      v-else
                      class="w-full h-full flex items-center justify-center text-white/60"
                    >
                      –ü—Ä–µ–≤—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
                    </div>
                  </div>
                </div>
              </div>

              <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–≤—å—é -->
              <div
                class="mt-4 p-3 bg-blue-500/10 border border-blue-400/30 rounded-lg"
              >
                <p class="text-blue-300 text-sm">
                  üí° –≠—Ç–æ –º–∏–Ω–∏–∞—Ç—é—Ä–Ω–æ–µ –ø—Ä–µ–≤—å—é Hero —Å–µ–∫—Ü–∏–∏. –ü–æ–ª–Ω—ã–π –≤–∏–¥ –º–æ–∂–Ω–æ
                  –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ –∫–Ω–æ–ø–∫–µ "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" –≤—ã—à–µ.
                </p>
              </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä Hero —Å–µ–∫—Ü–∏–∏ -->
            <div class="xl:col-span-1">
              <div class="sticky top-24">
                <HeroPreview
                  :slot-data="form"
                  :selected-bonuses="selectedBonuses"
                  :selected-themes="selectedThemes"
                  :available-bonuses="availableBonuses"
                  :available-themes="availableThemes"
                  :providers="providers"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, watch } from 'vue'
import HeroPreview from '~/components/admin/HeroPreview.vue'

// –ü–æ–ª—É—á–∞–µ–º ID —Å–ª–æ—Ç–∞ –∏–∑ —Ä–æ—É—Ç–∞
const route = useRoute()
const router = useRouter()
const slotId = route.params.id

// –°–æ—Å—Ç–æ—è–Ω–∏–µ
const slot = ref(null)
const providers = ref([])
const saving = ref(false)
const loading = ref(true)
const showBasicSection = ref(true)
const showHeroLinksSection = ref(true)
const showGameCharacteristicsSection = ref(true)
const showRatingSection = ref(true)
const showMechanicsSection = ref(false)
const showBonusesSection = ref(false)
const showThemesSection = ref(false)
const paylineType = ref('text') // 'number' –∏–ª–∏ 'text'

// –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –±–æ–Ω—É—Å–æ–≤ –∏ —Ç–µ–º–∞—Ç–∏–∫
const bonusSearchQuery = ref('')
const themeSearchQuery = ref('')

// –î–∞–Ω–Ω—ã–µ –¥–ª—è –º–µ—Ö–∞–Ω–∏–∫, –±–æ–Ω—É—Å–æ–≤ –∏ —Ç–µ–º–∞—Ç–∏–∫
const availableMechanics = ref([])
const availableBonuses = ref([])
const availableThemes = ref([])

// –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
const form = ref({
  name: '',
  slug: '',
  description: '',
  provider_id: null,
  rtp: 96.5,
  volatility: 'medium',
  min_bet: '‚Ç¨0.20',
  max_bet: '‚Ç¨100',
  max_win: 5000,
  release_date: '',
  reels: 5,
  rows: 3,
  popularity_rank: 12,
  real_rtp: 97.45, // –†–µ–∞–ª—å–Ω—ã–π RTP
  bonus_frequency: '1:448', // –ß–∞—Å—Ç–æ—Ç–∞ –±–æ–Ω—É—Å–∞
  game_field: '6√ó5',
  paylines: 'Scatter Pays',
  // –ú–µ–¥–∏–∞ –ø–æ–ª—è
  media_type: 'image', // 'image' –∏–ª–∏ 'video'
  image_url: '',
  video_url: '',
  // –°—Å—ã–ª–∫–∏ –∫–Ω–æ–ø–æ–∫
  demo_url: '', // –°—Å—ã–ª–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
  real_play_url: '', // –°—Å—ã–ª–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å –Ω–∞ –¥–µ–Ω—å–≥–∏"
})

// –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π)
const selectedMechanics = ref([])
const selectedBonuses = ref([])
const selectedThemes = ref([])

// –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
useHead({
  title: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Hero —Å–µ–∫—Ü–∏–∏ —Å–ª–æ—Ç–∞ - SlotQuest Admin',
})

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
onMounted(async () => {
  await Promise.all([
    loadProviders(),
    loadMechanics(),
    loadBonuses(),
    loadThemes(),
    slotId !== 'new' ? loadSlot() : null,
  ])
  loading.value = false
})

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
const loadProviders = async () => {
  try {
    const response = await $fetch('http://localhost:3001/api/providers')
    const data = response.data || response
    providers.value = JSON.parse(JSON.stringify(data))
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:', error)
  }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –º–µ—Ö–∞–Ω–∏–∫
const loadMechanics = async () => {
  try {
    const response = await $fetch('http://localhost:3001/api/mechanics')
    const data = response.data || response
    availableMechanics.value = JSON.parse(JSON.stringify(data))
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Ö–∞–Ω–∏–∫:', error)
  }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –±–æ–Ω—É—Å–æ–≤
const loadBonuses = async () => {
  try {
    const response = await $fetch('http://localhost:3001/api/bonuses')
    const data = response.data || response
    availableBonuses.value = JSON.parse(JSON.stringify(data))
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–Ω—É—Å–æ–≤:', error)
  }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ç–µ–º–∞—Ç–∏–∫
const loadThemes = async () => {
  try {
    const response = await $fetch('http://localhost:3001/api/themes')
    const data = response.data || response
    availableThemes.value = JSON.parse(JSON.stringify(data))
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–º–∞—Ç–∏–∫:', error)
  }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å–ª–æ—Ç–∞
const loadSlot = async () => {
  if (slotId === 'new') return

  try {
    const response = await $fetch(
      `http://localhost:3001/api/slots/admin/${slotId}`,
    )
    const data = response.data || response
    slot.value = JSON.parse(JSON.stringify(data))

    // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞
    Object.keys(form.value).forEach((key) => {
      if (slot.value[key] !== undefined) {
        form.value[key] = slot.value[key]
      }
    })

    // –ó–∞–ø–æ–ª–Ω—è–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –¥–ª—è –º–µ—Ö–∞–Ω–∏–∫, –±–æ–Ω—É—Å–æ–≤ –∏ —Ç–µ–º–∞—Ç–∏–∫
    if (slot.value.slot_mechanics && Array.isArray(slot.value.slot_mechanics)) {
      selectedMechanics.value = slot.value.slot_mechanics.map(
        (sm) => sm.mechanic_id,
      )
    }
    if (slot.value.slot_bonuses && Array.isArray(slot.value.slot_bonuses)) {
      selectedBonuses.value = slot.value.slot_bonuses.map((sb) => sb.bonus_id)
    }
    if (slot.value.themes) {
      selectedThemes.value = [slot.value.themes.id]
    }

    // –ï—Å–ª–∏ reels –∏ rows –Ω–µ –∑–∞–¥–∞–Ω—ã, –Ω–æ –µ—Å—Ç—å game_field, –ø—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å –∏—Ö
    if (slot.value.game_field && (!slot.value.reels || !slot.value.rows)) {
      const match = slot.value.game_field.match(/(\d+)√ó(\d+)/)
      if (match) {
        if (!slot.value.reels) form.value.reels = parseInt(match[1])
        if (!slot.value.rows) form.value.rows = parseInt(match[2])
      }
    }

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø paylines (—á–∏—Å–ª–æ –∏–ª–∏ —Ç–µ–∫—Å—Ç)
    if (slot.value.paylines !== undefined) {
      const paylineValue = slot.value.paylines
      if (
        typeof paylineValue === 'number' ||
        (typeof paylineValue === 'string' && /^\d+$/.test(paylineValue))
      ) {
        paylineType.value = 'number'
      } else {
        paylineType.value = 'text'
      }
    }
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–æ—Ç–∞:', error)
    await router.push('/admin/slots')
  }
}

// –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è
watch(
  () => form.value.name,
  (newName) => {
    if (newName && (!form.value.slug || slotId === 'new')) {
      form.value.slug = newName
        .toLowerCase()
        .replace(/[^a-z0-9–∞-—è\s]/gi, '')
        .replace(/\s+/g, '-')
        .trim()
    }
  },
)

// Computed —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π (–∏–∑–±–µ–≥–∞–µ–º –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ñ—É–Ω–∫—Ü–∏–π)
const currentProviderName = computed(() => {
  const provider = providers.value.find((p) => p.id === form.value.provider_id)
  return provider?.name || '–ü—Ä–æ–≤–∞–π–¥–µ—Ä'
})

const currentVolatilityText = computed(() => {
  const map = {
    low: '–ù–∏–∑–∫–∞—è',
    medium: '–°—Ä–µ–¥–Ω—è—è',
    high: '–í—ã—Å–æ–∫–∞—è',
  }
  return map[form.value.volatility] || '–°—Ä–µ–¥–Ω—è—è'
})

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ ID (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —à–∞–±–ª–æ–Ω–µ)
const getMechanicName = (mechanicId) => {
  const mechanic = availableMechanics.value.find((m) => m.id === mechanicId)
  return mechanic?.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞'
}

const getBonusName = (bonusId) => {
  const bonus = availableBonuses.value.find((b) => b.id === bonusId)
  return bonus?.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –±–æ–Ω—É—Å'
}

const getThemeName = (themeId) => {
  const theme = availableThemes.value.find((t) => t.id === themeId)
  return theme?.name || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞'
}

// Computed —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±–æ–Ω—É—Å–æ–≤ –∏ —Ç–µ–º–∞—Ç–∏–∫
const filteredBonuses = computed(() => {
  let filtered = availableBonuses.value

  if (bonusSearchQuery.value) {
    const query = bonusSearchQuery.value.toLowerCase()
    filtered = filtered.filter(
      (bonus) =>
        bonus.name?.toLowerCase().includes(query) ||
        bonus.description?.toLowerCase().includes(query) ||
        bonus.type?.toLowerCase().includes(query),
    )
  }

  return filtered
})

const filteredThemes = computed(() => {
  let filtered = availableThemes.value

  if (themeSearchQuery.value) {
    const query = themeSearchQuery.value.toLowerCase()
    filtered = filtered.filter(
      (theme) =>
        theme.name?.toLowerCase().includes(query) ||
        theme.description?.toLowerCase().includes(query),
    )
  }

  return filtered
})

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–∞–º–∏
const selectAllBonuses = () => {
  selectedBonuses.value = filteredBonuses.value.map((bonus) => bonus.id)
}

const clearAllBonuses = () => {
  selectedBonuses.value = []
}

const selectPopularBonuses = () => {
  selectedBonuses.value = filteredBonuses.value
    .filter((bonus) => bonus.is_popular)
    .map((bonus) => bonus.id)
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–∞—Ç–∏–∫–∞–º–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Ç–µ–º–∞—Ç–∏–∫–∞)
const clearAllThemes = () => {
  selectedThemes.value = []
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
const saveSlot = async () => {
  if (saving.value) return

  try {
    saving.value = true

    const url =
      slotId === 'new'
        ? 'http://localhost:3001/api/slots'
        : `http://localhost:3001/api/slots/${slotId}`

    const method = slotId === 'new' ? 'POST' : 'PUT'

    // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
    const dataToSend = {
      ...form.value,
      // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
      selected_mechanics: selectedMechanics.value,
      selected_bonuses: selectedBonuses.value,
      selected_themes: selectedThemes.value,
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º game_field –∏–∑ reels –∏ rows
      game_field:
        form.value.reels && form.value.rows
          ? `${form.value.reels}√ó${form.value.rows}`
          : form.value.game_field,
    }

    const response = await $fetch(url, {
      method,
      body: dataToSend,
    })

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
    alert('–°–ª–æ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!')

    if (slotId === 'new' && response.data?.id) {
      // –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–ª–æ—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É
      await router.push(`/admin/slots/${response.data.id}`)
    }
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error)
    alert(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ${error.message || error}`)
  } finally {
    saving.value = false
  }
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ–¥–∏–∞ —Å–æ–±—ã—Ç–∏–π
const handleImageError = (event) => {
  event.target.style.display = 'none'
}

const handleImageLoad = (event) => {
  event.target.style.display = 'block'
}

const handleVideoError = (event) => {
  event.target.style.display = 'none'
}

const handleVideoLoad = (event) => {
  event.target.style.display = 'block'
}

const handlePreviewImageError = (event) => {
  event.target.parentElement.innerHTML =
    '<div class="flex items-center justify-center h-full text-white/60 text-xs">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>'
}

const handlePreviewVideoError = (event) => {
  event.target.parentElement.innerHTML =
    '<div class="flex items-center justify-center h-full text-white/60 text-xs">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ</div>'
}

// –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
const resetForm = () => {
  if (slot.value) {
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–ª–æ—Ç–∞
    Object.keys(form.value).forEach((key) => {
      if (slot.value[key] !== undefined) {
        form.value[key] = slot.value[key]
      }
    })
  } else {
    // –°–±—Ä–æ—Å –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–ª–æ—Ç–∞
    Object.assign(form.value, {
      name: '',
      slug: '',
      description: '',
      provider_id: null,
      rtp: 96.5,
      volatility: 'medium',
      min_bet: '‚Ç¨0.20',
      max_bet: '‚Ç¨100',
      max_win: 5000,
      release_date: '',
      reels: 5,
      popularity_rank: 12,
      game_field: '6√ó5',
      paylines: 'Scatter Pays',
      // –ú–µ–¥–∏–∞ –ø–æ–ª—è
      media_type: 'image',
      image_url: '',
      video_url: '',
      // –°—Å—ã–ª–∫–∏ –∫–Ω–æ–ø–æ–∫
      demo_url: '',
      real_play_url: '',
    })
  }
}
</script>

<style scoped>
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</style>
