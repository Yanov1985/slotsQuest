-- CreateTable
CREATE TABLE "themes" (
    "id" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    "slug" TEXT NOT NULL,
    "description" TEXT,
    "color" TEXT,
    "icon" TEXT,
    "is_featured" BOOLEAN NOT NULL DEFAULT false,
    "is_active" BOOLEAN NOT NULL DEFAULT true,
    "created_at" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updated_at" TIMESTAMP(3) NOT NULL,

    CONSTRAINT "themes_pkey" PRIMARY KEY ("id")
);

-- CreateIndex
CREATE UNIQUE INDEX "themes_name_key" ON "themes"("name");

-- CreateIndex
CREATE UNIQUE INDEX "themes_slug_key" ON "themes"("slug");

-- CreateIndex
CREATE INDEX "themes_is_active_idx" ON "themes"("is_active");

-- CreateIndex
CREATE INDEX "themes_is_featured_idx" ON "themes"("is_featured");

-- CreateIndex
CREATE INDEX "themes_slug_idx" ON "themes"("slug");

-- AlterTable
ALTER TABLE "slots" ADD COLUMN "theme_id" TEXT;

-- CreateIndex
CREATE INDEX "slots_theme_id_idx" ON "slots"("theme_id");

-- AddForeignKey
ALTER TABLE "slots" ADD CONSTRAINT "slots_theme_id_fkey" FOREIGN KEY ("theme_id") REFERENCES "themes"("id") ON DELETE SET NULL ON UPDATE CASCADE;

-- Insert test data for themes
INSERT INTO "themes" ("id", "name", "slug", "description", "color", "icon", "is_featured", "is_active", "created_at", "updated_at") VALUES
('theme_1', '–î—Ä–µ–≤–Ω–∏–π –ï–≥–∏–ø–µ—Ç', 'ancient-egypt', '–°–ª–æ—Ç—ã —Å —Ç–µ–º–∞—Ç–∏–∫–æ–π –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞, —Ñ–∞—Ä–∞–æ–Ω–æ–≤ –∏ –ø–∏—Ä–∞–º–∏–¥', '#FFD700', 'üè∫', true, true, NOW(), NOW()),
('theme_2', '–§—Ä—É–∫—Ç—ã', 'fruits', '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ñ—Ä—É–∫—Ç–æ–≤—ã–µ —Å–ª–æ—Ç—ã', '#FF6B6B', 'üçé', true, true, NOW(), NOW()),
('theme_3', '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è', 'adventure', '–ü—Ä–∏–∫–ª—é—á–µ–Ω—á–µ—Å–∫–∏–µ —Å–ª–æ—Ç—ã —Å –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º–∏ —Å—é–∂–µ—Ç–∞–º–∏', '#4ECDC4', 'üó∫Ô∏è', true, true, NOW(), NOW()),
('theme_4', '–ú–∏—Ñ–æ–ª–æ–≥–∏—è', 'mythology', '–°–ª–æ—Ç—ã –Ω–∞ —Ç–µ–º—É –¥—Ä–µ–≤–Ω–∏—Ö –º–∏—Ñ–æ–≤ –∏ –ª–µ–≥–µ–Ω–¥', '#45B7D1', '‚ö°', true, true, NOW(), NOW()),
('theme_5', '–ñ–∏–≤–æ—Ç–Ω—ã–µ', 'animals', '–°–ª–æ—Ç—ã —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –∏ –ø—Ä–∏—Ä–æ–¥–æ–π', '#96CEB4', 'ü¶Å', false, true, NOW(), NOW()),
('theme_6', '–ö–æ—Å–º–æ—Å', 'space', '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∏ –Ω–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞', '#6C5CE7', 'üöÄ', false, true, NOW(), NOW()),
('theme_7', '–ü–∏—Ä–∞—Ç—ã', 'pirates', '–ü–∏—Ä–∞—Ç—Å–∫–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∏ –ø–æ–∏—Å–∫–∏ —Å–æ–∫—Ä–æ–≤–∏—â', '#A0522D', 'üè¥‚Äç‚ò†Ô∏è', false, true, NOW(), NOW()),
('theme_8', '–°–∫–∞–∑–∫–∏', 'fairy-tales', '–í–æ–ª—à–µ–±–Ω—ã–µ —Å–∫–∞–∑–∫–∏ –∏ —Ñ—ç–Ω—Ç–µ–∑–∏', '#FF69B4', 'üßö‚Äç‚ôÄÔ∏è', false, true, NOW(), NOW()),
('theme_9', '–°–ø–æ—Ä—Ç', 'sports', '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞', '#32CD32', '‚öΩ', false, true, NOW(), NOW()),
('theme_10', '–ú—É–∑—ã–∫–∞', 'music', '–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Å–ª–æ—Ç—ã', '#9370DB', 'üéµ', false, true, NOW(), NOW()),
('theme_11', '–†–µ—Ç—Ä–æ', 'retro', '–í–∏–Ω—Ç–∞–∂–Ω—ã–µ –∏ —Ä–µ—Ç—Ä–æ —Å–ª–æ—Ç—ã', '#CD853F', 'üìª', false, true, NOW(), NOW()),
('theme_12', '–ê–∑–∏—è', 'asia', '–ê–∑–∏–∞—Ç—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–∏', '#DC143C', 'üèÆ', false, true, NOW(), NOW());