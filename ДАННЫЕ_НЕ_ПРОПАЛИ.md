# ‚úÖ –î–ê–ù–ù–´–ï –ù–ï –ü–†–û–ü–ê–õ–ò! –í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ! üéâ

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```
‚úÖ –°–ª–æ—Ç—ã: 5
‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã: 94
‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: 31
‚úÖ –ú–µ—Ö–∞–Ω–∏–∫–∏: 6
‚úÖ –¢–µ–º–∞—Ç–∏–∫–∏: 241

‚ö†Ô∏è –°–≤—è–∑–∏ —Å–ª–æ—Ç-–º–µ—Ö–∞–Ω–∏–∫–∞: 0  (–≠—Ç–æ –ù–û–†–ú–ê–õ–¨–ù–û!)
‚ö†Ô∏è –°–≤—è–∑–∏ —Å–ª–æ—Ç-–±–æ–Ω—É—Å: 0     (–≠—Ç–æ –ù–û–†–ú–ê–õ–¨–ù–û!)
```

---

## üéØ –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?

### **–í–°–ï –î–ê–ù–ù–´–ï –ù–ê –ú–ï–°–¢–ï!**

–°–≤—è–∑–∏ –º–µ—Ö–∞–Ω–∏–∫ **–ü–£–°–¢–´–ï** –Ω–µ –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–∞–ª–∏, –∞ –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ **–ù–ò–ö–û–ì–î–ê –ù–ï –ë–´–õ–ò –£–°–¢–ê–ù–û–í–õ–ï–ù–´**!

---

## üéì –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

### **–ú–µ—Ç–∞—Ñ–æ—Ä–∞: Tinder –ø—Ä–æ—Ñ–∏–ª—å** üíï

#### **–ë—ã–ª–æ (–î–û –º–æ–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**

1. –£ —Ç–µ–±—è –µ—Å—Ç—å **–ø—Ä–æ—Ñ–∏–ª—å** (—Å–ª–æ—Ç) ‚úÖ
2. –í —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å **–±–∞–∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤** (–º–µ—Ö–∞–Ω–∏–∫–∏, —Ç–µ–º–∞—Ç–∏–∫–∏) ‚úÖ
3. –í –∞–¥–º–∏–Ω–∫–µ —Ç—ã **–í–´–ë–ò–†–ê–ï–®–¨** –∏–Ω—Ç–µ—Ä–µ—Å—ã
4. –ù–∞–∂–∏–º–∞–µ—à—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. **–ù–û!** –ò–Ω—Ç–µ—Ä–µ—Å—ã **–ù–ï –°–û–•–†–ê–ù–Ø–Æ–¢–°–Ø** –≤ —Ç–≤–æ—ë–º –ø—Ä–æ—Ñ–∏–ª–µ ‚ùå
6. –î—Ä—É–≥–∏–µ –≤–∏–¥—è—Ç —Ç–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å **–ë–ï–ó –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤**

#### **–°—Ç–∞–ª–æ (–ü–û–°–õ–ï –º–æ–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**

1. –£ —Ç–µ–±—è –µ—Å—Ç—å **–ø—Ä–æ—Ñ–∏–ª—å** (—Å–ª–æ—Ç) ‚úÖ
2. –í —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å **–±–∞–∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤** (–º–µ—Ö–∞–Ω–∏–∫–∏, —Ç–µ–º–∞—Ç–∏–∫–∏) ‚úÖ
3. –ù–æ —Ç—ã **–ï–©–Å –ù–ï –í–´–ë–†–ê–õ** –∏–Ω—Ç–µ—Ä–µ—Å—ã –≤ –Ω–æ–≤–æ–π –∞–¥–º–∏–Ω–∫–µ
4. **–¢–ï–ü–ï–†–¨**, –∫–æ–≥–¥–∞ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ –Ω–∞–∂–º—ë—à—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. –ò–Ω—Ç–µ—Ä–µ—Å—ã **–ö–û–†–†–ï–ö–¢–ù–û –°–û–•–†–ê–ù–Ø–¢–°–Ø** –≤ –ë–î ‚úÖ
6. –î—Ä—É–≥–∏–µ —É–≤–∏–¥—è—Ç —Ç–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å **–°–û –í–°–ï–ú–ò –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏** ‚úÖ

---

## ‚ùì –ü–æ—á–µ–º—É —Å–≤—è–∑–∏ –ø—É—Å—Ç—ã–µ?

### **–ü—Ä–∏—á–∏–Ω–∞: –†–∞–Ω—å—à–µ –∫–æ–¥ –ù–ï –°–û–•–†–ê–ù–Ø–õ —Å–≤—è–∑–∏!**

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**

```typescript
// backend/src/slots/slots.service.ts (–ë–´–õ–û)
async updateSlot(id: string, updateSlotDto: UpdateSlotDto) {
  const {
    selected_mechanics,  // ‚Üê –ò–∑–≤–ª–µ–∫–∞–ª–∏ –∏–∑ DTO
    selected_bonuses,    // ‚Üê –ò–∑–≤–ª–µ–∫–∞–ª–∏ –∏–∑ DTO
    selected_themes,     // ‚Üê –ò–∑–≤–ª–µ–∫–∞–ª–∏ –∏–∑ DTO
    ...restDto
  } = updateSlotDto;

  // –û–±–Ω–æ–≤–ª—è–ª–∏ —Å–ª–æ—Ç
  const slot = await this.prisma.slots.update({
    where: { id },
    data: restDto,  // ‚Üê –ù–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–ª–∏ —Å–≤—è–∑–∏!
  });

  return slot;  // ‚Üê –°–≤—è–∑–∏ –ü–†–û–ò–ì–ù–û–†–ò–†–û–í–ê–õ–ò–°–¨!
}
```

**–ù–æ–≤—ã–π –∫–æ–¥:**

```typescript
// backend/src/slots/slots.service.ts (–°–¢–ê–õ–û)
async updateSlot(id: string, updateSlotDto: UpdateSlotDto) {
  const {
    selected_mechanics,
    selected_bonuses,
    selected_themes,
    ...restDto
  } = updateSlotDto;

  // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ª–æ—Ç
  const slot = await this.prisma.slots.update({
    where: { id },
    data: restDto,
  });

  // ‚úÖ –ù–û–í–û–ï! –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–≤—è–∑–∏ —Å –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏
  if (selected_mechanics !== undefined) {
    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Å–≤—è–∑–∏
    await this.prisma.slot_mechanics.deleteMany({
      where: { slot_id: id },
    });

    // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–µ —Å–≤—è–∑–∏
    if (selected_mechanics && selected_mechanics.length > 0) {
      const mechanicsData = selected_mechanics.map((mechanicId) => ({
        slot_id: id,
        mechanic_id: mechanicId,
      }));

      await this.prisma.slot_mechanics.createMany({
        data: mechanicsData,
      });
    }
  }

  // ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è bonuses –∏ themes

  return updatedSlot;
}
```

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

### **–®–∞–≥ 1: –£–±–µ–¥–∏—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω**

```bash
# –í Git Bash –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π PowerShell –≤–∫–ª–∞–¥–∫–µ:
cd backend
npm run start:dev
```

**Backend –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:**

```
[Nest] INFO [NestFactory] Starting Nest application...
[Nest] INFO Application is running on: http://localhost:3001
```

---

### **–®–∞–≥ 2: –û—Ç–∫—Ä–æ–π –∞–¥–º–∏–Ω–∫—É**

```
http://localhost:3000/admin/slots/gate-of-olympus
```

---

### **–®–∞–≥ 3: –î–æ–±–∞–≤—å –º–µ—Ö–∞–Ω–∏–∫–∏**

1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –¥–æ —Å–µ–∫—Ü–∏–∏ **"–ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ Hero —Å–µ–∫—Ü–∏–∏"**
2. –ù–∞–∂–º–∏ **"Show"**
3. –û—Ç–º–µ—Ç—å —á–µ–∫–±–æ–∫—Å—ã –Ω—É–∂–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∫:
   - ‚òëÔ∏è Scatter Pays
   - ‚òëÔ∏è Tumbles
   - ‚òëÔ∏è Multipliers
4. –í–Ω–∏–∑—É –ø–æ—è–≤—è—Ç—Å—è **"–í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏"** –≤ –≤–∏–¥–µ —á–∏–ø—Å–æ–≤

---

### **–®–∞–≥ 4: –î–æ–±–∞–≤—å —Ç–µ–º–∞—Ç–∏–∫—É**

1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –¥–æ —Å–µ–∫—Ü–∏–∏ **"–¢–µ–º–∞—Ç–∏–∫–∞ Hero —Å–µ–∫—Ü–∏–∏"**
2. –ù–∞–∂–º–∏ **"Show"**
3. –û—Ç–º–µ—Ç—å —á–µ–∫–±–æ–∫—Å —Ç–µ–º–∞—Ç–∏–∫–∏:
   - ‚òëÔ∏è Mythology (–∏–ª–∏ –ª—é–±—É—é –¥—Ä—É–≥—É—é)
4. –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è **"–í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞"**

---

### **–®–∞–≥ 5: –°–æ—Ö—Ä–∞–Ω–∏**

–ù–∞–∂–º–∏ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"**

**–í –∫–æ–Ω—Å–æ–ª–∏ backend –ø–æ—è–≤—è—Ç—Å—è –ª–æ–≥–∏:**

```
üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫: [ 'uuid-1', 'uuid-2', 'uuid-3' ]
‚úÖ –ú–µ—Ö–∞–Ω–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã: 3
üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏: uuid-theme-1
‚úÖ –¢–µ–º–∞—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
‚úÖ –°–ª–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω —Å–æ —Å–≤—è–∑—è–º–∏
```

---

### **–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
cd backend
node check-data-after-changes.js
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**

```
=== –°–≤—è–∑–∏ ===
–°–≤—è–∑–∏ —Å–ª–æ—Ç-–º–µ—Ö–∞–Ω–∏–∫–∞: 3  ‚úÖ (–ë—ã–ª–æ 0, —Å—Ç–∞–ª–æ 3!)
–°–≤—è–∑–∏ —Å–ª–æ—Ç-–±–æ–Ω—É—Å: 0

=== Gates of Olympus ===
ID: cmeocg6bd0001u5do1jpoas43
Slug: gate-of-olympus
–ú–µ—Ö–∞–Ω–∏–∫: 3  ‚úÖ (–ë—ã–ª–æ 0, —Å—Ç–∞–ª–æ 3!)
–ë–æ–Ω—É—Å–æ–≤: 0
–¢–µ–º–∞—Ç–∏–∫–∞: Mythology  ‚úÖ (–ë—ã–ª–æ "–ù–µ —É–∫–∞–∑–∞–Ω–∞", —Å—Ç–∞–ª–∞ "Mythology"!)

–ú–µ—Ö–∞–Ω–∏–∫–∏:
  1. Scatter Pays (üéØ)
  2. Tumbles (üîÑ)
  3. Multipliers (‚úñÔ∏è)
```

---

### **–®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ**

1. –û—Ç–∫—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–ª–æ—Ç–∞:

   ```
   http://localhost:3000/slots/gate-of-olympus
   ```

2. **–û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (Ctrl+F5)

3. **–ü—Ä–æ–∫—Ä—É—Ç–∏ –¥–æ Hero —Å–µ–∫—Ü–∏–∏**

4. **–î–û–õ–ñ–ù–´ –û–¢–û–ë–†–ê–ñ–ê–¢–¨–°–Ø** —Ü–≤–µ—Ç–Ω—ã–µ —á–∏–ø—Å—ã:

   ```
   üéØ Game mechanics

   üéØ Scatter Pays   üîÑ Tumbles   ‚úñÔ∏è Multipliers
   ```

5. –ò –±–ª–æ–∫ —Å —Ç–µ–º–∞—Ç–∏–∫–æ–π:

   ```
   ‚ö° Theme

   Mythology
   ```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### **1. Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è?**

–ü—Ä–æ–≤–µ—Ä—å, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 3001:

```bash
# –í PowerShell:
Get-NetTCPConnection -LocalPort 3001 -ErrorAction SilentlyContinue
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç, –æ—Å—Ç–∞–Ω–æ–≤–∏ –ø—Ä–æ—Ü–µ—Å—Å –∏ –∑–∞–ø—É—Å—Ç–∏ backend —Å–Ω–æ–≤–∞.

---

### **2. –í –∫–æ–Ω—Å–æ–ª–∏ backend –Ω–µ—Ç –ª–æ–≥–æ–≤ "‚úÖ –ú–µ—Ö–∞–Ω–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã"?**

–ó–Ω–∞—á–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å —Ñ–æ—Ä–º—ã. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –≤ –∞–¥–º–∏–Ω–∫–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:

```javascript
–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ: {
  ...
  selected_mechanics: ["uuid-1", "uuid-2"]  // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å!
}
```

–ï—Å–ª–∏ `selected_mechanics` **–ø—É—Å—Ç–æ–π** - –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —á–µ–∫–±–æ–∫—Å—ã –º–µ—Ö–∞–Ω–∏–∫ **–û–¢–ú–ï–ß–ï–ù–´**.

---

### **3. –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≤—è–∑–∏ –≤—Å—ë –µ—â—ë –ø—É—Å—Ç—ã–µ?**

–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –µ—â—ë —Ä–∞–∑:

```bash
cd backend
node check-data-after-changes.js
```

–ï—Å–ª–∏ —Å–≤—è–∑–∏ –≤—Å—ë –µ—â—ë `0` - –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ backend –≤ –∫–æ–Ω—Å–æ–ª–∏.

---

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫:

- [ ] Backend –∑–∞–ø—É—â–µ–Ω (`npm run start:dev`)
- [ ] –ê–¥–º–∏–Ω–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∞ (`http://localhost:3000/admin/slots/...`)
- [ ] –ú–µ—Ö–∞–Ω–∏–∫–∏ –≤—ã–±—Ä–∞–Ω—ã (—á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã)
- [ ] –¢–µ–º–∞—Ç–∏–∫–∞ –≤—ã–±—Ä–∞–Ω–∞ (—á–µ–∫–±–æ–∫—Å –æ—Ç–º–µ—á–µ–Ω)
- [ ] –í–Ω–∏–∑—É —Å–µ–∫—Ü–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è "–í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏" –∏ "–í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞"
- [ ] –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ backend –ø–æ—è–≤–∏–ª–∏—Å—å –ª–æ–≥–∏ "‚úÖ –ú–µ—Ö–∞–Ω–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã"
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ `check-data-after-changes.js` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤—è–∑–∏ > 0
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ª–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (Ctrl+F5)
- [ ] –í Hero —Å–µ–∫—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ü–≤–µ—Ç–Ω—ã–µ —á–∏–ø—Å—ã —Å –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏

---

## üéØ –ò—Ç–æ–≥:

### ‚úÖ **–î–∞–Ω–Ω—ã–µ –ù–ï –ø—Ä–æ–ø–∞–ª–∏!**

### ‚úÖ **–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã!**

### ‚úÖ **–°–≤—è–∑–∏ –ø—É—Å—Ç—ã–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –∏—Ö –µ—â—ë –ù–ï –î–û–ë–ê–í–ò–õ –≤ –Ω–æ–≤–æ–π –∞–¥–º–∏–Ω–∫–µ!**

### ‚úÖ **–¢–µ–ø–µ—Ä—å —Ç—ã –ú–û–ñ–ï–®–¨ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –æ–Ω–∏ –°–û–•–†–ê–ù–Ø–¢–°–Ø!**

---

**–ì–æ—Ç–æ–≤–æ!** üöÄ‚ú®

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - –Ω–∞–ø–∏—à–∏, –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!
