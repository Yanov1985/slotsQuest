# ‚úÖ –≠–¢–ê–ü 2: Backend API –¥–ª—è JSON-LD - –ó–ê–í–ï–†–®–Å–ù!

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 1 –¥–µ–∫–∞–±—Ä—è 2025
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´**

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

| –¢–µ—Å—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|------|--------|--------|
| GET /api/jsonld/:slotId | ‚úÖ | 5 —Å—Ö–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| GET /api/jsonld/:slotId/raw | ‚úÖ | 5 —Å—Ö–µ–º –≤ –º–∞—Å—Å–∏–≤–µ |
| POST /api/jsonld/:slotId/validate | ‚úÖ | –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç |
| GET /api/jsonld/:slotId/test | ‚úÖ | Google Test URL –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è |
| GET /api/jsonld/:slotId/stats | ‚úÖ | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ |
| –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã (game, review, faq, etc.) | ‚úÖ | –í—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç |

---

## üèóÔ∏è –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `backend/src/jsonld/dto/jsonld.dto.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Data Transfer Objects –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

–°–æ–¥–µ—Ä–∂–∏—Ç:
- `JsonLdSchemaType` - —Ç–∏–ø—ã —Å—Ö–µ–º (Game, Product, etc.)
- `FaqItem` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ FAQ –≤–æ–ø—Ä–æ—Å–∞-–æ—Ç–≤–µ—Ç–∞
- `HowToStep` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–≥–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `ValidateJsonLdDto` - DTO –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `ValidationResult` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `JsonLdResponse` - –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç API
- `UpdateJsonLdSettingsDto` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `RichSnippetTestResult` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ Google
- `JsonLdStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ JSON-LD

### 2. `backend/src/jsonld/jsonld.service.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ JSON-LD

–ú–µ—Ç–æ–¥—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º:
- `generateJsonLd()` - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥, —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å—Ö–µ–º—ã
- `generateGameSchema()` - Game Schema (schema.org/Game)
- `generateProductSchema()` - Product Schema —Å —Ü–µ–Ω–æ–π
- `generateReviewSchema()` - Review Schema (–∑–≤—ë–∑–¥—ã –≤ –ø–æ–∏—Å–∫–µ!)
- `generateFaqSchema()` - FAQ Schema (—Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è —Å–ø–∏—Å–æ–∫)
- `generateHowToSchema()` - HowTo Schema (–ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
- `generateBreadcrumbSchema()` - BreadcrumbList (—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏)
- `generateVideoSchema()` - VideoObject (–≤–∏–¥–µ–æ-–æ–±–∑–æ—Ä)

–ú–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
- `validateJsonLd()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å—Ö–µ–º—ã
- `testRichSnippets()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è URL –¥–ª—è —Ç–µ—Å—Ç–∞ Google

–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ:
- `updateJsonLdSettings()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `getJsonLdStats()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è —Å–ª–æ—Ç–∞
- `getAllSlotsJsonLdSummary()` - —Å–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º —Å–ª–æ—Ç–∞–º

### 3. `backend/src/jsonld/jsonld.controller.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON-LD

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|----------|------------|
| GET | `/api/jsonld/:slotId` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π JSON-LD |
| GET | `/api/jsonld/:slotId/raw` | –ü–æ–ª—É—á–∏—Ç—å "—Å—ã—Ä–æ–π" JSON-LD –¥–ª—è HTML |
| POST | `/api/jsonld/:slotId/validate` | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã |
| GET | `/api/jsonld/:slotId/test` | –¢–µ—Å—Ç Google Rich Snippets |
| PUT | `/api/jsonld/:slotId/settings` | –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| GET | `/api/jsonld/:slotId/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| GET | `/api/jsonld/summary` | –°–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º —Å–ª–æ—Ç–∞–º |
| GET | `/api/jsonld/:slotId/game` | –¢–æ–ª—å–∫–æ Game Schema |
| GET | `/api/jsonld/:slotId/review` | –¢–æ–ª—å–∫–æ Review Schema |
| GET | `/api/jsonld/:slotId/faq` | –¢–æ–ª—å–∫–æ FAQ Schema |
| GET | `/api/jsonld/:slotId/howto` | –¢–æ–ª—å–∫–æ HowTo Schema |
| GET | `/api/jsonld/:slotId/breadcrumb` | –¢–æ–ª—å–∫–æ Breadcrumb |
| GET | `/api/jsonld/:slotId/video` | –¢–æ–ª—å–∫–æ Video Schema |

### 4. `backend/src/jsonld/jsonld.module.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** NestJS –º–æ–¥—É–ª—å –¥–ª—è JSON-LD

---

## üéÆ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ü–æ–ª—É—á–∏—Ç—å JSON-LD –¥–ª—è —Å–ª–æ—Ç–∞

```bash
curl http://localhost:3001/api/jsonld/cmeocg6gy0003u5doo0tcrpk4
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "slotId": "cmeocg6gy0003u5doo0tcrpk4",
  "slotName": "Gonzo's Quest",
  "schemas": {
    "game": { "@type": "Game", "name": "Gonzo's Quest", ... },
    "review": { "@type": "Review", "reviewRating": {...}, ... },
    "faq": { "@type": "FAQPage", "mainEntity": [...], ... },
    "howTo": { "@type": "HowTo", "step": [...], ... },
    "breadcrumb": { "@type": "BreadcrumbList", ... },
    "combined": [...]
  },
  "meta": {
    "generatedAt": "2025-12-01T...",
    "enabledSchemas": ["Game", "Review", "FAQ", "HowTo", "Breadcrumb"],
    "totalSchemas": 5
  }
}
```

### –ü–æ–ª—É—á–∏—Ç—å Raw JSON-LD –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ HTML

```bash
curl http://localhost:3001/api/jsonld/cmeocg6gy0003u5doo0tcrpk4/raw
```

**–û—Ç–≤–µ—Ç:** –ú–∞—Å—Å–∏–≤ JSON-LD —Å—Ö–µ–º –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ `<script type="application/ld+json">`

### –í–∞–ª–∏–¥–∞—Ü–∏—è JSON-LD

```bash
curl -X POST http://localhost:3001/api/jsonld/cmeocg6gy0003u5doo0tcrpk4/validate
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "isValid": true,
  "errors": [],
  "warnings": [],
  "suggestions": [
    "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ö–µ–º (Game + Review + FAQ) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Ö–≤–∞—Ç–∞"
  ]
}
```

### –¢–µ—Å—Ç Google Rich Snippets

```bash
curl http://localhost:3001/api/jsonld/cmeocg6gy0003u5doo0tcrpk4/test
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "url": "https://search.google.com/test/rich-results?url=...",
  "detectedSchemas": ["Game", "Review", "FAQ", "HowTo", "Breadcrumb"],
  "errors": [],
  "warnings": []
}
```

---

## üéØ –°—Ö–µ–º—ã JSON-LD –∏ –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. Game Schema
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–∫ –∏–≥—Ä—É
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –í–∫–ª—é—á–∞–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (–∑–≤—ë–∑–¥—ã!)

### 2. Review Schema ‚≠ê
**–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è –¥–ª—è CTR!**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–≤—ë–∑–¥—ã —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä—è–º–æ –≤ Google
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ 30-50%
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∞ –∏ –¥–∞—Ç—É –æ–±–∑–æ—Ä–∞

### 3. FAQ Schema ‚ùì
- –†–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ø–æ–∏—Å–∫–µ
- –ó–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –≤ SERP
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ç–∏–ø–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. HowTo Schema üìã
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –ø–æ–∏—Å–∫–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —à–∞–≥–∏ "–ö–∞–∫ –∏–≥—Ä–∞—Ç—å"
- –ü—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –Ω–æ–≤–∏—á–∫–æ–≤

### 5. BreadcrumbList Schema üçû
- –ö—Ä–∞—Å–∏–≤—ã–π –ø—É—Ç—å –≤–º–µ—Å—Ç–æ URL
- –ì–ª–∞–≤–Ω–∞—è > –°–ª–æ—Ç—ã > NetEnt > Gonzo's Quest
- –£–ª—É—á—à–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

### 6. VideoObject Schema üé¨
- –ü—Ä–µ–≤—å—é –≤–∏–¥–µ–æ –≤ –ø–æ–∏—Å–∫–µ
- –ü—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Frontend (—Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø)

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤ `<head>`:

```vue
<script setup>
const { data: jsonLd } = await useFetch(`/api/jsonld/${slotId}/raw`)

useHead({
  script: [
    {
      type: 'application/ld+json',
      innerHTML: JSON.stringify(jsonLd.value)
    }
  ]
})
</script>
```

---

## üìÖ –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

### –≠–¢–ê–ü 3: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å UI (6 —á–∞—Å–æ–≤)
- [ ] –°–µ–∫—Ü–∏—è JSON-LD –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –∞–¥–º–∏–Ω–∫–µ —Å–ª–æ—Ç–∞
- [ ] –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è —Å—Ö–µ–º
- [ ] –†–µ–¥–∞–∫—Ç–æ—Ä FAQ –≤–æ–ø—Ä–æ—Å–æ–≤
- [ ] –†–µ–¥–∞–∫—Ç–æ—Ä HowTo —à–∞–≥–æ–≤
- [ ] –ü—Ä–µ–≤—å—é —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON-LD
- [ ] –ö–Ω–æ–ø–∫–∞ "–¢–µ—Å—Ç –≤ Google"
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏

### –≠–¢–ê–ü 4: Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (3 —á–∞—Å–∞)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ JSON-LD –≤ head
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] SEO –º–µ—Ç–∞-—Ç–µ–≥–∏ –∏–∑ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

### –≠–¢–ê–ü 5: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (2 —á–∞—Å–∞)
- [ ] –î–∞—à–±–æ—Ä–¥ —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π JSON-LD
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Search Console

---

## üéâ –ò–¢–û–ì

**–≠–¢–ê–ü 2: Backend API ‚úÖ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–Å–ù!**

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π API –¥–ª—è:
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ JSON-LD —Å—Ö–µ–º
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Rich Snippets
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ì–æ—Ç–æ–≤—ã –∫ –≠–¢–ê–ü–£ 3: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å UI!** üöÄ
